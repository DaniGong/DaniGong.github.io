	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>

  <title> Fluent Python Reading Notes &middot; PythonicğŸ¶ </title>

  
  <link rel="stylesheet" href="http://danigong.github.io/css/poole.css">
  <link rel="stylesheet" href="http://danigong.github.io/css/syntax.css">
  <link rel="stylesheet" href="http://danigong.github.io/css/hyde.css">
  <link rel="stylesheet" href="http://danigong.github.io/css/style.css"> 
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="PythonicğŸ¶" />
</head>

	<body class="">
		<div class="sidebar">

  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://danigong.github.io/"><h1>PythonicğŸ¶</h1></a>
      <p class="lead">
       Life is short, I need python 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
        <li><a href="/about/"> About </a></li>
      
    </ul>
    <div class="social-font clearfix">
      GS's&nbsp;
    
    <a href="http://weibo.com/iamastupidboy" target="_blank" title="weibo">Weibo</a>
    
    
    
    <a href="https://github.com/DaniGong" target="_blank" title="github">Github</a>
    
    
    
  </div>
 <p>&copy; 2018. All rights reserved. </p>
  
</div>
  
</div>


		<div class="content container">
			<div class="post" style="word-wrap: break-word;">
			 	<h1>Fluent Python Reading Notes</h1>
			  <span class="post-date">Mon, Mar 12, 2018</span>
			      

<h3 id="1:c44d5f57678f01c760738e3a6271e3a0">1</h3>

<blockquote>
<ul>
<li><code>dict()</code> is slower than <code>{}</code></li>
<li><code>list()</code> is slower than <code>()</code></li>
</ul>
</blockquote>

<ul>
<li>[x] éœ€è¦ç¬¦å·æŸ¥æ‰¾ï¼ˆä¸èƒ½é¢„å…ˆçŸ¥é“<code>list()</code>æœ‰æ²¡æœ‰è¢«é‡å®šä¹‰ï¼‰</li>
<li>[x] æ–¹æ³•è°ƒç”¨</li>
<li>[x] è¦æ£€æŸ¥æœ‰æ²¡æœ‰å¯è¿­ä»£å˜é‡ä¼ å…¥</li>
</ul>

<h3 id="2:c44d5f57678f01c760738e3a6271e3a0">2</h3>

<p><strong>ç‰¹æ®Šæ–¹æ³•</strong></p>

<blockquote>
<ul>
<li><code>__len__()</code></li>
<li><code>__getitem__()</code></li>
<li><code>__setitem__()</code></li>
<li><code>__iter__()</code></li>
</ul>
</blockquote>

<p>æ˜¯ä¸ºäº†è¢«<code>pythonè§£é‡Šå™¨</code>è°ƒç”¨çš„ï¼Œè‡ªå·±ä¸ç”¨è°ƒç”¨å®ƒä»¬ï¼Œæ‰€ä»¥æ²¡æœ‰<code>A.__len__()</code>æ–¹æ³•ï¼Œåªæœ‰<code>len(A)</code></p>

<h3 id="3:c44d5f57678f01c760738e3a6271e3a0">3</h3>

<p>è‡ªå®šä¹‰å¸ƒå°”å€¼ -&gt; å®ç°<code>__bool__</code></p>

<h3 id="4:c44d5f57678f01c760738e3a6271e3a0">4</h3>

<blockquote>
<ul>
<li><code>__str__()</code> : readable, é¢å‘ç”¨æˆ·</li>
<li><code>__repr__()</code> : unambigous, é¢å‘DEV</li>
</ul>
</blockquote>

<h3 id="5:c44d5f57678f01c760738e3a6271e3a0">5</h3>

<p><em>The Zen of Python</em></p>

<ul>
<li>1. å®ç”¨èƒœäºçº¯ç²¹</li>
<li>2. ä¸èƒ½è®©ç‰¹ä¾‹ç‰¹æ®Šåˆ°å¼€å§‹ç ´åè§„åˆ™</li>
</ul>

<h3 id="6:c44d5f57678f01c760738e3a6271e3a0">6</h3>

<p><strong>å†…ç½®åºåˆ—ç±»å‹</strong></p>

<blockquote>
<ul>
<li>å®¹å™¨åºåˆ—ï¼šä»»æ„ç±»å‹ï¼Œå¼•ç”¨ - <code>list, tuple, deque</code></li>

<li><p>æ‰å¹³åºåˆ—ï¼šå•ä¸€ç±»å‹ï¼Œå€¼ ï¼ <code>str(3.0), byte(3.0), bytearray, memoryview</code></p></li>

<li><p>å¯å˜åºåˆ—(MutableSequence)ï¼š<code>list, deque</code> &hellip;</p></li>

<li><p>ä¸å¯å˜åºåˆ—(Sequence)ï¼š<code>tuple, str, byte</code></p></li>
</ul>
</blockquote>

<h3 id="7:c44d5f57678f01c760738e3a6271e3a0">7</h3>

<blockquote>
<ul>
<li>list comprehension = listcomps åˆ—è¡¨æ¨å¯¼</li>
<li>generator expression = genexps ç”Ÿæˆå™¨è¡¨è¾¾å¼</li>
</ul>
</blockquote>

<h3 id="8:c44d5f57678f01c760738e3a6271e3a0">8</h3>

<blockquote>
<ul>
<li><code>chr(65)</code> -&gt; A</li>
<li><code>ord(A)</code> -&gt; 65</li>
<li><code>unichr(12345)</code> -&gt; u&rsquo;\u3039&rsquo;</li>
</ul>
</blockquote>

<h3 id="9:c44d5f57678f01c760738e3a6271e3a0">9</h3>

<p><strong>åˆ—è¡¨æ¨å¯¼çš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼š</strong> ç”Ÿæˆåˆ—è¡¨</p>

<h3 id="10:c44d5f57678f01c760738e3a6271e3a0">10</h3>

<p><strong><code>genexps</code>ä¼˜äº<code>listcomps</code></strong></p>

<p><code>genexps</code>éµå®ˆäº†è¿­ä»£å™¨åè®®ï¼Œå¯ä»¥é€ä¸ªäº§ç”Ÿå…ƒç´ ï¼Œè€Œä¸æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼Œé¿å…äº†é¢å¤–çš„å†…å­˜å ç”¨</p>

<h3 id="11:c44d5f57678f01c760738e3a6271e3a0">11</h3>

<p><strong>å…ƒç»„æ‹†åŒ…</strong></p>

<blockquote>
<ul>
<li><code>a,b = (a,b)</code></li>
<li><code>a,b = b,a</code> ä¸¤ä¸ªå˜é‡å€¼äº¤æ¢</li>
</ul>
</blockquote>

<h3 id="12:c44d5f57678f01c760738e3a6271e3a0">12</h3>

<p><strong><code>*</code>æ¥å¤„ç†å‰©ä¸‹çš„å…ƒç´ </strong></p>

<p>Python3: <strong>å¹³è¡Œèµ‹å€¼</strong>: <code>a,b,*rest = range(5)</code> -&gt; <code>(0,1,[2,3,4])</code></p>

<h3 id="13:c44d5f57678f01c760738e3a6271e3a0">13</h3>

<p><code>namedtuple</code>å’Œ<code>tuple</code>åˆ›å»ºå®ä¾‹æ¶ˆè€—å†…å­˜ä¸€æ ·ï¼Œå› ä¸ºå­—æ®µåéƒ½å­˜åœ¨ç±»é‡Œï¼š</p>

<blockquote>
<ul>
<li><code>_fileds</code>ç±»å±æ€§</li>
<li><code>_make(iterable)</code>ç±»æ–¹æ³•</li>
<li><code>_asdict()</code>å®ä¾‹æ–¹æ³•</li>
</ul>
</blockquote>

<h3 id="14:c44d5f57678f01c760738e3a6271e3a0">14</h3>

<p><code>tuple</code>æ²¡æœ‰<code>__reversed__</code>æ–¹æ³•ï¼Œä½†å¯ä»¥<code>reversed(my_tuple)</code></p>

<h3 id="15:c44d5f57678f01c760738e3a6271e3a0">15</h3>

<p><strong>åˆ‡ç‰‡èµ‹å€¼</strong>ï¼šæ”¹å˜<code>list</code>ä¸­è¿ç»­å¤šä¸ªå€¼</p>

<pre><code>    l = list(range(10))
    l[2:5] = [20,30]
</code></pre>

<p>-&gt; <code>l:[0,1,20,30,5,6,7,8,9]</code></p>

<h3 id="16:c44d5f57678f01c760738e3a6271e3a0">16</h3>

<p><code>__iadd__</code>æ–¹æ³•ï¼šå°±åœ°åŠ æ³•</p>

<blockquote>
<ul>
<li><code>+</code> = <code>__iadd__</code></li>
<li><code>*</code> = <code>__imul__</code></li>
</ul>
</blockquote>

<h3 id="17:c44d5f57678f01c760738e3a6271e3a0">17</h3>

<p><strong><code>id(object)</code> -&gt; return &ldquo;Identity(å†…å­˜åœ°å€)&rdquo; of an object</strong></p>

<blockquote>
<ul>
<li><code>+=</code> or <code>*=</code> ç”¨åœ¨<code>list</code>ä¸Šï¼Œä¸æ”¹å˜id</li>
<li><code>+=</code> or <code>*=</code> ç”¨åœ¨<code>tuple</code>ä¸Šï¼Œæ”¹å˜idï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªobj</li>
</ul>
</blockquote>

<h3 id="18:c44d5f57678f01c760738e3a6271e3a0">18</h3>

<p><strong>å¦‚æœä¸€ä¸ªæ–¹æ³•å¯¹å¯¹è±¡è¿›è¡Œçš„æ˜¯å°±åœ°æ”¹åŠ¨ï¼Œé‚£å°±åº”è¯¥è¿”å›<code>None</code></strong></p>

<h3 id="19:c44d5f57678f01c760738e3a6271e3a0">19</h3>

<ul>
<li><code>list.sort</code> -&gt; å°±åœ°æ”¹</li>
<li><code>sorted()</code> -&gt; æ–°å»ºä¸€ä¸ªåˆ—è¡¨è¿”å›</li>
</ul>

<p>Example:
<code>sorted(fruits, key=len)</code>
<code>sorted(fruits, key=lower)</code> &hellip;</p>

<h3 id="20:c44d5f57678f01c760738e3a6271e3a0">20</h3>

<p><strong><code>bisect</code> äºŒåˆ†æŸ¥æ‰¾</strong></p>

<blockquote>
<ul>
<li>1. <code>bisect(haystack, needle)</code></li>
<li>2. <code>insort(seq, item)</code> -&gt; æ’å…¥åä»ä¿æŒå‡åº</li>
</ul>
</blockquote>

<h3 id="21:c44d5f57678f01c760738e3a6271e3a0">21</h3>

<p><strong>å­—ç¬¦ä¸²æ ¼å¼åŒ–</strong></p>

<p><code>' '.format(a,b,c)</code></p>

<blockquote>
<ul>
<li><code>{0}</code> -&gt; ä½ç½®å‚æ•°</li>
<li><code>{name}</code> -&gt; å…³é”®å­—å‚æ•°</li>
<li><code>{0[0]}</code> -&gt; å¯¹<code>list</code>ä½¿ç”¨ç´¢å¼•</li>
<li><code>{0:*(å¡«å……å­—ç¬¦)&gt;(å³å¯¹é½)10(å®½åº¦)}</code> -&gt; å¡«å……ä¸æ ¼å¼åŒ–</li>
</ul>
</blockquote>

<h3 id="22:c44d5f57678f01c760738e3a6271e3a0">22</h3>

<p><code>array</code> åœºæ™¯-&gt;1000ä¸‡ä¸ªæµ®ç‚¹æ•°
<code>deque</code> åœºæ™¯-&gt;éœ€è¦é¢‘ç¹å¯¹åºåˆ—è¿›è¡Œ<code>FIFO</code></p>

<h3 id="23:c44d5f57678f01c760738e3a6271e3a0">23</h3>

<p><strong><code>memoryview</code></strong></p>

<h3 id="24:c44d5f57678f01c760738e3a6271e3a0">24</h3>

<p><strong><code>numpy, scipy</code></strong></p>

<h3 id="25:c44d5f57678f01c760738e3a6271e3a0">25</h3>

<p><strong><code>collections.deque</code></strong>ï¼šçº¿ç¨‹å®‰å…¨ã€å¿«é€Ÿä»ä¸¤ç«¯æ·»åŠ ã€åˆ é™¤å…ƒç´ ã€‚</p>

<p>*åœºæ™¯*ï¼šå­˜æ”¾æœ€è¿‘ä½¿ç”¨çš„å‡ ä¸ªå…ƒç´ </p>

<blockquote>
<ul>
<li>1. <code>rotate(3)</code>ï¼šå³è¾¹ä¸‰ä¸ªåˆ°å·¦è¾¹ã€‚<code>rotate(-4)</code>ï¼šå·¦è¾¹å››ä¸ªåˆ°å³è¾¹ã€‚</li>
<li>2. <code>appendleft()</code>ï¼šå•ä¸ªã€‚<code>extend, extendleft</code>ï¼š é˜Ÿåˆ—ã€‚</li>
</ul>
</blockquote>

<h3 id="26:c44d5f57678f01c760738e3a6271e3a0">26</h3>

<ul>
<li><strong><code>æ•£åˆ—è¡¨</code></strong>æ˜¯<code>å­—å…¸</code>ç±»å‹æ€§èƒ½å‡ºä¼—çš„æ ¹æœ¬åŸå› ã€‚</li>
<li><strong><code>collections.abc.Mapping</code>çš„instance</strong></li>
<li><strong>åŸå­ä¸å¯å˜æ•°æ®ç±»å‹</strong>ï¼ˆ<code>str, byte</code>å’Œæ•°å€¼ç±»å‹ï¼‰</li>
<li><strong>æ•£åˆ—å€¼</strong>å°±æ˜¯<code>id()</code>å‡½æ•°çš„è¿”å›å€¼</li>
</ul>

<h3 id="27:c44d5f57678f01c760738e3a6271e3a0">27</h3>

<p><strong>å­—å…¸åˆ›å»ºæ–¹æ³•</strong></p>

<blockquote>
<ul>
<li>1. <code>a = dict(one=1,two=2,three=3)</code></li>
<li>2. <code>b = {'one':1,'two':2,'three':3}</code></li>
<li>3. <code>c = dict(zip(['one','two','three'],[1,2,3]))</code></li>
<li>4. å­—å…¸æ¨å¯¼ <code>dictcomp</code></li>
</ul>
</blockquote>

<h3 id="28:c44d5f57678f01c760738e3a6271e3a0">28</h3>

<p><strong><code>dict.setdefault</code></strong>å¤„ç†ä¸å­˜åœ¨äº<code>dict</code>ä¸­çš„<code>key</code></p>

<h3 id="29:c44d5f57678f01c760738e3a6271e3a0">29</h3>

<p><strong><code>collections.defaultdict</code></strong>æ˜¯å¤„ç†æ‰¾ä¸åˆ°<code>key</code>çš„ä¸€ä¸ªé€‰æ‹©</p>

<p><code>dd = defautdict(list)</code>ï¼Œå¦‚æœ<code>'new-key'</code>ä¸å­˜åœ¨ï¼Œ<code>dd['new-key']</code>ä¼šæ‰§è¡Œï¼š</p>

<blockquote>
<ul>
<li>1. <code>list()</code>å»ºæ–°åˆ—è¡¨</li>
<li>2. è¿™ä¸ªæ–°åˆ—è¡¨ä½œä¸º<code>å€¼</code>ï¼Œ<code>new-key</code>ä¸º<code>key</code>ï¼Œæ”¾å…¥<code>dd</code></li>
<li>3. è¿”å›è¿™ä¸ªåˆ—è¡¨çš„å¼•ç”¨</li>
</ul>
</blockquote>

<h3 id="30:c44d5f57678f01c760738e3a6271e3a0">30</h3>

<p><strong><code>__missing__</code>åªä¼šè¢«<code>__getitem__</code>è°ƒç”¨</strong></p>

<h3 id="31:c44d5f57678f01c760738e3a6271e3a0">31</h3>

<p><strong>å¦‚æœè¦è‡ªå®šä¹‰ä¸€ä¸ªæ˜ å°„ç±»å‹ï¼Œåº”è¯¥ç»§æ‰¿<code>collections.UserDict</code></strong></p>

<h3 id="32:c44d5f57678f01c760738e3a6271e3a0">32</h3>

<p><strong>å­—å…¸çš„å˜ç§</strong></p>

<blockquote>
<ul>
<li>1. <code>collections.OrderedDict</code>: <code>popitem</code>æ–¹æ³• -&gt; åˆ é™¤å¹¶è¿”å›</li>
<li>2. <code>collections.ChainMap</code>: å¤šä¸ªå­—å…¸é€ä¸ªæŸ¥æ‰¾</li>
<li>3. <code>collections.Counter</code>:</li>
</ul>

<blockquote>
<pre><code>    ct = Counter('abracadabra')
</code></pre>

<ul>
<li>-&gt;</li>
</ul>

<pre><code>    Counter({'a':5,'b':2,'r':2,'c':1,'d':1})
</code></pre>
</blockquote>

<ul>
<li>4. <code>UserDict</code>ç”¨æˆ·æ¶Œæ¥ç»§æ‰¿å†™å­ç±»</li>
<li>5. <code>TransformDict</code></li>
</ul>
</blockquote>

<h3 id="33:c44d5f57678f01c760738e3a6271e3a0">33</h3>

<p><strong>ä¸å¯å˜æ˜ å°„ç±»å‹</strong></p>

<ul>
<li><code>types.MappingProxyType</code>ï¼š<code>åªè¯»çš„æ˜ å°„è§†å›¾</code></li>
</ul>

			</div>

			
		</div>
		
  </body>
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-115398530-1', 'auto');
  ga('send', 'pageview');
  $('#messagesbsb').remove();
</script>



  </html>


<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Python Property  &middot; PythonicğŸ¶</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="python, ">


<meta property="og:title" content="Python Property  &middot; PythonicğŸ¶ ">
<meta property="og:site_name" content="PythonicğŸ¶"/>
<meta property="og:url" content="http://danigong.github.io/post/python_property/" />
<meta property="og:locale" content="zh-CN">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2015-07-13T22:55:05&#43;08:00" />
<meta property="og:article:modified_time" content="2015-07-13T22:55:05&#43;08:00" />

  
    
<meta property="og:article:tag" content="python">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:creator" content="@" />
<meta name="twitter:title" content="Python Property" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="http://danigong.github.io/post/python_property/" />
<meta name="twitter:domain" content="http://danigong.github.io/">
  

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Python Property",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2015-07-13",
    "description": "",
    "wordCount":  1275 
  }
</script>



<link rel="canonical" href="http://danigong.github.io/post/python_property/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://danigong.github.io/touch-icon-144-precomposed.png">
<link href="http://danigong.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.15" />

  
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="http://danigong.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="http://danigong.github.io/css/style.css">


  
  
</head>
<body>
  <main id="main-wrapper" class="container main_wrapper">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="http://danigong.github.io/">
  PythonicğŸ¶

</a>

</div>

  
<div class="container topline">
  

</div>


</div>

  <nav class="container nav primary no-print">
  


  

</nav>

<div class="container nav secondary no-print">
  
























</div>


  

</header>


<article id="main-content" class="container main_content single">
  <header class="container hat">
  <h1>Python Property
</h1>

  <div class="metas">
<time datetime="2015-07-13">13 Jul, 2015</time>


  
  &middot; Read in about 3 min
  &middot; (1275 Words)
  <br>
  
<a class="label" href="http://danigong.github.io/tags/python">python</a>



</div>

</header>

  <div class="container content">
  

<h2 id="python-å±æ€§-property-è¯¦è§£:05e96a11594e29fc27254b4ee09656d0">Pythonâ€œå±æ€§ï¼ˆpropertyï¼‰â€è¯¦è§£</h2>

<p>Pythonä¸­æœ‰ä¸€ä¸ªè¢«ç§°ä¸ºå±æ€§å‡½æ•°(property)çš„å°æ¦‚å¿µï¼Œå®ƒå¯ä»¥åšä¸€äº›æœ‰ç”¨çš„äº‹æƒ…ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•èƒ½åšä»¥ä¸‹å‡ ç‚¹ï¼š</p>

<h3 id="å°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§:05e96a11594e29fc27254b4ee09656d0">å°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§</h3>

<h3 id="é‡æ–°å®ç°ä¸€ä¸ªå±æ€§çš„setterå’Œgetteræ–¹æ³•:05e96a11594e29fc27254b4ee09656d0">é‡æ–°å®ç°ä¸€ä¸ªå±æ€§çš„setterå’Œgetteræ–¹æ³•</h3>

<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä»¥å‡ ç§ä¸åŒçš„æ–¹å¼æ¥ä½¿ç”¨å†…ç½®çš„å±æ€§å‡½æ•°ã€‚å¸Œæœ›è¯»åˆ°æ–‡ç« çš„æœ«å°¾æ—¶ï¼Œä½ èƒ½çœ‹åˆ°å®ƒæ˜¯å¤šä¹ˆæœ‰ç”¨ã€‚</p>

<p>å¼€å§‹</p>

<p>ä½¿ç”¨å±æ€§å‡½æ•°çš„æœ€ç®€å•çš„æ–¹æ³•ä¹‹ä¸€æ˜¯å°†å®ƒä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„è£…é¥°å™¨æ¥ä½¿ç”¨ã€‚è¿™å¯ä»¥è®©ä½ å°†ä¸€ä¸ªç±»æ–¹æ³•è½¬å˜æˆä¸€ä¸ªç±»å±æ€§ã€‚å½“æˆ‘éœ€è¦åšæŸäº›å€¼çš„åˆå¹¶æ—¶ï¼Œæˆ‘å‘ç°è¿™å¾ˆæœ‰ç”¨ã€‚å…¶ä»–æƒ³è¦è·å–å®ƒä½œä¸ºæ–¹æ³•ä½¿ç”¨çš„äººï¼Œå‘ç°åœ¨å†™è½¬æ¢å‡½æ•°æ—¶å®ƒå¾ˆæœ‰ç”¨ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>

<pre><code>class Person(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self, first_name, last_name):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self.first_name = first_name
        self.last_name = last_name
 
    #----------------------------------------------------------------------
    @property
    def full_name(self):
        &quot;&quot;&quot;
        Return the full name
        &quot;&quot;&quot;
        return &quot;%s %s&quot; % (self.first_name, self.last_name)
</code></pre>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªç±»å±æ€§ï¼šself.first_nameå’Œself.last_nameã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªfull_nameæ–¹æ³•ï¼Œå®ƒæœ‰ä¸€ä¸ª@propertyè£…é¥°å™¨ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨Pythonè§£é‡Šå™¨ä¼šè¯ä¸­æœ‰å¦‚ä¸‹çš„äº¤äº’ï¼š</p>

<pre><code>&gt;&gt;&gt; person = Person(&quot;Mike&quot;, &quot;Driscoll&quot;)
&gt;&gt;&gt; person.full_name
'Mike Driscoll'
&gt;&gt;&gt; person.first_name
'Mike'
&gt;&gt;&gt; person.full_name = &quot;Jackalope&quot;
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;fragment&gt;
AttributeError: can't set attribute
</code></pre>

<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå› ä¸ºæˆ‘ä»¬å°†æ–¹æ³•å˜æˆäº†å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£å¸¸çš„ç‚¹ç¬¦å·è®¿é—®å®ƒã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¯•å›¾å°†è¯¥å±æ€§è®¾ä¸ºå…¶ä»–å€¼ï¼Œæˆ‘ä»¬ä¼šå¼•å‘ä¸€ä¸ªAttributeErroré”™è¯¯ã€‚æ”¹å˜full_nameå±æ€§çš„å”¯ä¸€æ–¹æ³•æ˜¯é—´æ¥è¿™æ ·åšï¼š</p>

<pre><code>&gt;&gt;&gt; person.first_name = &quot;Dan&quot;
&gt;&gt;&gt; person.full_name
'Dan Driscoll'
</code></pre>

<p>è¿™æ˜¯ä¸€ç§é™åˆ¶ï¼Œå› æ­¤è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼Œå…¶ä¸­æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå…è®¸è®¾ç½®çš„å±æ€§ã€‚</p>

<p>ä½¿ç”¨Python propertyå–ä»£setterå’Œgetteræ–¹æ³•</p>

<p>è®©æˆ‘ä»¬å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›é—ç•™ä»£ç ï¼Œå®ƒä»¬æ˜¯ç”±ä¸€äº›å¯¹Pythonç†è§£å¾—ä¸å¤Ÿå¥½çš„äººå†™çš„ã€‚å¦‚æœä½ åƒæˆ‘ä¸€æ ·ï¼Œä½ ä¹‹å‰å·²ç»çœ‹åˆ°è¿‡è¿™ç±»çš„ä»£ç ï¼š</p>

<p>Python</p>

<pre><code>class Fees(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self._fee = None
 
    #----------------------------------------------------------------------
    def get_fee(self):
        &quot;&quot;&quot;
        Return the current fee
        &quot;&quot;&quot;
        return self._fee
 
    #----------------------------------------------------------------------
    def set_fee(self, value):
        &quot;&quot;&quot;
        Set the fee
        &quot;&quot;&quot;
        if isinstance(value, str):
            self._fee = Decimal(value)
        elif isinstance(value, Decimal):
            self._fee = value
</code></pre>

<p>è¦ä½¿ç”¨è¿™ä¸ªç±»ï¼Œæˆ‘ä»¬å¿…é¡»è¦ä½¿ç”¨å®šä¹‰çš„getterå’Œsetteræ–¹æ³•â€‹â€‹ï¼š</p>

<pre><code>&gt;&gt;&gt; f = Fees()
&gt;&gt;&gt; f.set_fee(&quot;1&quot;)
&gt;&gt;&gt; f.get_fee()
Decimal('1')
</code></pre>

<p>å¦‚æœä½ æƒ³æ·»åŠ å¯ä»¥ä½¿ç”¨æ­£å¸¸ç‚¹ç¬¦å·è®¿é—®çš„å±æ€§ï¼Œè€Œä¸ç ´åæ‰€æœ‰ä¾èµ–äºè¿™æ®µä»£ç çš„åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªå±æ€§å‡½æ•°éå¸¸ç®€å•åœ°æ”¹å˜å®ƒï¼š</p>

<pre><code>class Fees(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self._fee = None
 
    #----------------------------------------------------------------------
    def get_fee(self):
        &quot;&quot;&quot;
        Return the current fee
        &quot;&quot;&quot;
        return self._fee
 
    #----------------------------------------------------------------------
    def set_fee(self, value):
        &quot;&quot;&quot;
        Set the fee
        &quot;&quot;&quot;
        if isinstance(value, str):
            self._fee = Decimal(value)
        elif isinstance(value, Decimal):
            self._fee = value
 
    fee = property(get_fee, set_fee)
</code></pre>

<p>æˆ‘ä»¬åœ¨è¿™æ®µä»£ç çš„æœ«å°¾æ·»åŠ äº†ä¸€è¡Œã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>

<pre><code>&gt;&gt;&gt; f = Fees()
&gt;&gt;&gt; f.set_fee(&quot;1&quot;)
&gt;&gt;&gt; f.fee
Decimal('1')
&gt;&gt;&gt; f.fee = &quot;2&quot;
&gt;&gt;&gt; f.get_fee()
Decimal('2')
</code></pre>

<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå½“æˆ‘ä»¬ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å±æ€§å‡½æ•°æ—¶ï¼Œå®ƒå…è®¸feeå±æ€§è®¾ç½®å¹¶è·å–å€¼æœ¬èº«è€Œä¸ç ´ååŸæœ‰ä»£ç ã€‚è®©æˆ‘ä»¬ä½¿ç”¨å±æ€§è£…é¥°å™¨æ¥é‡å†™è¿™æ®µä»£ç ï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦èƒ½å¾—åˆ°ä¸€ä¸ªå…è®¸è®¾ç½®çš„å±æ€§å€¼ã€‚</p>

<pre><code>class Fees(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self._fee = None
 
    #----------------------------------------------------------------------
    @property
    def fee(self):
        &quot;&quot;&quot;
        The fee property - the getter
        &quot;&quot;&quot;
        return self._fee
 
    #----------------------------------------------------------------------
    @fee.setter
    def fee(self, value):
        &quot;&quot;&quot;
        The setter of the fee property
        &quot;&quot;&quot;
        if isinstance(value, str):
            self._fee = Decimal(value)
        elif isinstance(value, Decimal):
            self._fee = value
 
#----------------------------------------------------------------------
if __name__ == &quot;__main__&quot;:
    f = Fees()
</code></pre>

<p>ä¸Šé¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•ä¸ºfeeå±æ€§åˆ›å»ºä¸€ä¸ªsetteræ–¹æ³•ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªåä¸º@fee.setterçš„è£…é¥°å™¨è£…é¥°ç¬¬äºŒä¸ªæ–¹æ³•åä¹Ÿä¸ºfeeçš„æ–¹æ³•æ¥å®ç°è¿™ä¸ªã€‚å½“ä½ å¦‚ä¸‹æ‰€åšæ—¶ï¼Œsetterè¢«è°ƒç”¨ï¼š</p>

<pre><code>&gt;&gt;&gt; f = Fees()
&gt;&gt;&gt; f.fee = &quot;1&quot;
</code></pre>

<p>å¦‚æœä½ çœ‹å±æ€§å‡½æ•°çš„è¯´æ˜ï¼Œå®ƒæœ‰fget, fset, fdelå’Œdocå‡ ä¸ªå‚æ•°ã€‚å¦‚æœä½ æƒ³å¯¹å±æ€§ä½¿ç”¨delå‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨@fee.deleteråˆ›å»ºå¦ä¸€ä¸ªè£…é¥°å™¨æ¥è£…é¥°ç›¸åŒåå­—çš„å‡½æ•°ä»è€Œå®ç°åˆ é™¤çš„åŒæ ·æ•ˆæœã€‚</p>

</div>


  <footer class="container">
  <div class="container navigation no-print">
  <h2>Navigation</h2>
  
  

    
    <a class="prev" href="http://danigong.github.io/post/translated_pep8/" title="PEP8 Chinese Version">
      Previous
    </a>
    

    
    <a class="next" href="http://danigong.github.io/post/python_decorator_guide/" title="A Guide to Python&#39;s Function Decorators">
      Next
    </a>
    

  


</div>

  <div class="container comments">
  <h2>Comments</h2>
  

</div>

</footer>

</article>
      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  

  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  

</div>


  

</div>

</footer>

    </main>
    



    
  </body>
</html>


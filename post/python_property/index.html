	<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.15" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title> Python Property &middot; BğŸ¶Pythonic </title>

  
  <link rel="stylesheet" href="http://danigong.github.io/css/poole.css">
  <link rel="stylesheet" href="http://danigong.github.io/css/syntax.css">
  <link rel="stylesheet" href="http://danigong.github.io/css/hyde.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  <link href="" rel="alternate" type="application/rss+xml" title="BğŸ¶Pythonic" />
</head>

	<body class="">
		<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://danigong.github.io/"><h1>BğŸ¶Pythonic</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <ul class="sidebar-nav">
      <li><a href="/">Home</a> </li>
      
        <li><a href="/about/"> About </a></li>
      
    </ul>

    <p>&copy; 2018. All rights reserved. </p>
  </div>
</div>


		<div class="content container">
			<div class="post">
			 	<h1>Python Property</h1>
			  <span class="post-date">Mon, Jul 13, 2015</span>
			      

<h2 id="python-å±æ€§-property-è¯¦è§£:05e96a11594e29fc27254b4ee09656d0">Pythonâ€œå±æ€§ï¼ˆpropertyï¼‰â€è¯¦è§£</h2>

<p>Pythonä¸­æœ‰ä¸€ä¸ªè¢«ç§°ä¸ºå±æ€§å‡½æ•°(property)çš„å°æ¦‚å¿µï¼Œå®ƒå¯ä»¥åšä¸€äº›æœ‰ç”¨çš„äº‹æƒ…ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•èƒ½åšä»¥ä¸‹å‡ ç‚¹ï¼š</p>

<h3 id="å°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§:05e96a11594e29fc27254b4ee09656d0">å°†ç±»æ–¹æ³•è½¬æ¢ä¸ºåªè¯»å±æ€§</h3>

<h3 id="é‡æ–°å®ç°ä¸€ä¸ªå±æ€§çš„setterå’Œgetteræ–¹æ³•:05e96a11594e29fc27254b4ee09656d0">é‡æ–°å®ç°ä¸€ä¸ªå±æ€§çš„setterå’Œgetteræ–¹æ³•</h3>

<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä»¥å‡ ç§ä¸åŒçš„æ–¹å¼æ¥ä½¿ç”¨å†…ç½®çš„å±æ€§å‡½æ•°ã€‚å¸Œæœ›è¯»åˆ°æ–‡ç« çš„æœ«å°¾æ—¶ï¼Œä½ èƒ½çœ‹åˆ°å®ƒæ˜¯å¤šä¹ˆæœ‰ç”¨ã€‚</p>

<p>å¼€å§‹</p>

<p>ä½¿ç”¨å±æ€§å‡½æ•°çš„æœ€ç®€å•çš„æ–¹æ³•ä¹‹ä¸€æ˜¯å°†å®ƒä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„è£…é¥°å™¨æ¥ä½¿ç”¨ã€‚è¿™å¯ä»¥è®©ä½ å°†ä¸€ä¸ªç±»æ–¹æ³•è½¬å˜æˆä¸€ä¸ªç±»å±æ€§ã€‚å½“æˆ‘éœ€è¦åšæŸäº›å€¼çš„åˆå¹¶æ—¶ï¼Œæˆ‘å‘ç°è¿™å¾ˆæœ‰ç”¨ã€‚å…¶ä»–æƒ³è¦è·å–å®ƒä½œä¸ºæ–¹æ³•ä½¿ç”¨çš„äººï¼Œå‘ç°åœ¨å†™è½¬æ¢å‡½æ•°æ—¶å®ƒå¾ˆæœ‰ç”¨ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>

<pre><code>class Person(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self, first_name, last_name):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self.first_name = first_name
        self.last_name = last_name
 
    #----------------------------------------------------------------------
    @property
    def full_name(self):
        &quot;&quot;&quot;
        Return the full name
        &quot;&quot;&quot;
        return &quot;%s %s&quot; % (self.first_name, self.last_name)
</code></pre>

<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªç±»å±æ€§ï¼šself.first_nameå’Œself.last_nameã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªfull_nameæ–¹æ³•ï¼Œå®ƒæœ‰ä¸€ä¸ª@propertyè£…é¥°å™¨ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿåœ¨Pythonè§£é‡Šå™¨ä¼šè¯ä¸­æœ‰å¦‚ä¸‹çš„äº¤äº’ï¼š</p>

<pre><code>&gt;&gt;&gt; person = Person(&quot;Mike&quot;, &quot;Driscoll&quot;)
&gt;&gt;&gt; person.full_name
'Mike Driscoll'
&gt;&gt;&gt; person.first_name
'Mike'
&gt;&gt;&gt; person.full_name = &quot;Jackalope&quot;
Traceback (most recent call last):
  File &quot;&lt;string&gt;&quot;, line 1, in &lt;fragment&gt;
AttributeError: can't set attribute
</code></pre>

<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå› ä¸ºæˆ‘ä»¬å°†æ–¹æ³•å˜æˆäº†å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ­£å¸¸çš„ç‚¹ç¬¦å·è®¿é—®å®ƒã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬è¯•å›¾å°†è¯¥å±æ€§è®¾ä¸ºå…¶ä»–å€¼ï¼Œæˆ‘ä»¬ä¼šå¼•å‘ä¸€ä¸ªAttributeErroré”™è¯¯ã€‚æ”¹å˜full_nameå±æ€§çš„å”¯ä¸€æ–¹æ³•æ˜¯é—´æ¥è¿™æ ·åšï¼š</p>

<pre><code>&gt;&gt;&gt; person.first_name = &quot;Dan&quot;
&gt;&gt;&gt; person.full_name
'Dan Driscoll'
</code></pre>

<p>è¿™æ˜¯ä¸€ç§é™åˆ¶ï¼Œå› æ­¤è®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦ä¸€ä¸ªä¾‹å­ï¼Œå…¶ä¸­æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå…è®¸è®¾ç½®çš„å±æ€§ã€‚</p>

<p>ä½¿ç”¨Python propertyå–ä»£setterå’Œgetteræ–¹æ³•</p>

<p>è®©æˆ‘ä»¬å‡è®¾æˆ‘ä»¬æœ‰ä¸€äº›é—ç•™ä»£ç ï¼Œå®ƒä»¬æ˜¯ç”±ä¸€äº›å¯¹Pythonç†è§£å¾—ä¸å¤Ÿå¥½çš„äººå†™çš„ã€‚å¦‚æœä½ åƒæˆ‘ä¸€æ ·ï¼Œä½ ä¹‹å‰å·²ç»çœ‹åˆ°è¿‡è¿™ç±»çš„ä»£ç ï¼š</p>

<p>Python</p>

<pre><code>class Fees(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self._fee = None
 
    #----------------------------------------------------------------------
    def get_fee(self):
        &quot;&quot;&quot;
        Return the current fee
        &quot;&quot;&quot;
        return self._fee
 
    #----------------------------------------------------------------------
    def set_fee(self, value):
        &quot;&quot;&quot;
        Set the fee
        &quot;&quot;&quot;
        if isinstance(value, str):
            self._fee = Decimal(value)
        elif isinstance(value, Decimal):
            self._fee = value
</code></pre>

<p>è¦ä½¿ç”¨è¿™ä¸ªç±»ï¼Œæˆ‘ä»¬å¿…é¡»è¦ä½¿ç”¨å®šä¹‰çš„getterå’Œsetteræ–¹æ³•â€‹â€‹ï¼š</p>

<pre><code>&gt;&gt;&gt; f = Fees()
&gt;&gt;&gt; f.set_fee(&quot;1&quot;)
&gt;&gt;&gt; f.get_fee()
Decimal('1')
</code></pre>

<p>å¦‚æœä½ æƒ³æ·»åŠ å¯ä»¥ä½¿ç”¨æ­£å¸¸ç‚¹ç¬¦å·è®¿é—®çš„å±æ€§ï¼Œè€Œä¸ç ´åæ‰€æœ‰ä¾èµ–äºè¿™æ®µä»£ç çš„åº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªå±æ€§å‡½æ•°éå¸¸ç®€å•åœ°æ”¹å˜å®ƒï¼š</p>

<pre><code>class Fees(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self._fee = None
 
    #----------------------------------------------------------------------
    def get_fee(self):
        &quot;&quot;&quot;
        Return the current fee
        &quot;&quot;&quot;
        return self._fee
 
    #----------------------------------------------------------------------
    def set_fee(self, value):
        &quot;&quot;&quot;
        Set the fee
        &quot;&quot;&quot;
        if isinstance(value, str):
            self._fee = Decimal(value)
        elif isinstance(value, Decimal):
            self._fee = value
 
    fee = property(get_fee, set_fee)
</code></pre>

<p>æˆ‘ä»¬åœ¨è¿™æ®µä»£ç çš„æœ«å°¾æ·»åŠ äº†ä¸€è¡Œã€‚ç°åœ¨æˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼š</p>

<pre><code>&gt;&gt;&gt; f = Fees()
&gt;&gt;&gt; f.set_fee(&quot;1&quot;)
&gt;&gt;&gt; f.fee
Decimal('1')
&gt;&gt;&gt; f.fee = &quot;2&quot;
&gt;&gt;&gt; f.get_fee()
Decimal('2')
</code></pre>

<p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå½“æˆ‘ä»¬ä»¥è¿™ç§æ–¹å¼ä½¿ç”¨å±æ€§å‡½æ•°æ—¶ï¼Œå®ƒå…è®¸feeå±æ€§è®¾ç½®å¹¶è·å–å€¼æœ¬èº«è€Œä¸ç ´ååŸæœ‰ä»£ç ã€‚è®©æˆ‘ä»¬ä½¿ç”¨å±æ€§è£…é¥°å™¨æ¥é‡å†™è¿™æ®µä»£ç ï¼Œçœ‹çœ‹æˆ‘ä»¬æ˜¯å¦èƒ½å¾—åˆ°ä¸€ä¸ªå…è®¸è®¾ç½®çš„å±æ€§å€¼ã€‚</p>

<pre><code>class Fees(object):
    &quot;&quot;&quot;&quot;&quot;&quot;
 
    #----------------------------------------------------------------------
    def __init__(self):
        &quot;&quot;&quot;Constructor&quot;&quot;&quot;
        self._fee = None
 
    #----------------------------------------------------------------------
    @property
    def fee(self):
        &quot;&quot;&quot;
        The fee property - the getter
        &quot;&quot;&quot;
        return self._fee
 
    #----------------------------------------------------------------------
    @fee.setter
    def fee(self, value):
        &quot;&quot;&quot;
        The setter of the fee property
        &quot;&quot;&quot;
        if isinstance(value, str):
            self._fee = Decimal(value)
        elif isinstance(value, Decimal):
            self._fee = value
 
#----------------------------------------------------------------------
if __name__ == &quot;__main__&quot;:
    f = Fees()
</code></pre>

<p>ä¸Šé¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•ä¸ºfeeå±æ€§åˆ›å»ºä¸€ä¸ªsetteræ–¹æ³•ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªåä¸º@fee.setterçš„è£…é¥°å™¨è£…é¥°ç¬¬äºŒä¸ªæ–¹æ³•åä¹Ÿä¸ºfeeçš„æ–¹æ³•æ¥å®ç°è¿™ä¸ªã€‚å½“ä½ å¦‚ä¸‹æ‰€åšæ—¶ï¼Œsetterè¢«è°ƒç”¨ï¼š</p>

<pre><code>&gt;&gt;&gt; f = Fees()
&gt;&gt;&gt; f.fee = &quot;1&quot;
</code></pre>

<p>å¦‚æœä½ çœ‹å±æ€§å‡½æ•°çš„è¯´æ˜ï¼Œå®ƒæœ‰fget, fset, fdelå’Œdocå‡ ä¸ªå‚æ•°ã€‚å¦‚æœä½ æƒ³å¯¹å±æ€§ä½¿ç”¨delå‘½ä»¤ï¼Œä½ å¯ä»¥ä½¿ç”¨@fee.deleteråˆ›å»ºå¦ä¸€ä¸ªè£…é¥°å™¨æ¥è£…é¥°ç›¸åŒåå­—çš„å‡½æ•°ä»è€Œå®ç°åˆ é™¤çš„åŒæ ·æ•ˆæœã€‚</p>

			</div>

			
		</div>

  </body>
</html>

<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PythonicğŸ¶</title>
    <link>http://danigong.github.io/</link>
    <description>Recent content on PythonicğŸ¶</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Thu, 26 Apr 2018 16:29:42 +0800</lastBuildDate>
    <atom:link href="http://danigong.github.io/feed/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>ä½¿ç”¨pipå®‰è£…åŒ…æç¤ºTLSè¯ä¹¦é”™è¯¯è§£å†³åŠæ³•</title>
      <link>http://danigong.github.io/post/pip_install_TLS_ERROR/</link>
      <pubDate>Thu, 26 Apr 2018 16:29:42 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/pip_install_TLS_ERROR/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;Could not fetch URL https://pypi.python.org/simple/pytest-xdist/: There was a problem confirming the ssl certificate: [SSL: TLSV1_ALERT_PROTOCOL_VERSION] tlsv1 alert protocol version (_ssl.c:590) - skipping&lt;/code&gt;
å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯python.orgå·²ç»ä¸æ”¯æŒTLSv1.0å’ŒTLSv1.1äº†ã€‚æ›´æ–°pipå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½†æ˜¯å¦‚æœä½¿ç”¨ä¼ ç»Ÿçš„&lt;code&gt;python -m pip install --upgrade pip&lt;/code&gt;çš„æ–¹å¼ï¼Œè¿˜æ˜¯ä¼šå‡ºç°é‚£ä¸ªé—®é¢˜ã€‚è¿™æ˜¯ä¸€ä¸ªé¸¡å’Œè›‹çš„é—®é¢˜ï¼Œä½ å› ä¸ºTLSè¯ä¹¦çš„é—®é¢˜éœ€è¦å»å‡çº§pipï¼Œå‡pipçš„æ—¶å€™åˆå› ä¸ºTLSè¯ä¹¦çš„åŸå› ä¸èƒ½ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„pipã€‚è¿™æ—¶å€™å°±æ²¡æœ‰åŠæ³•äº†ï¼Œåªèƒ½æ‰‹åŠ¨çš„å»å‡çº§pipã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;macæˆ–è€…linuxæ“ä½œç³»ç»Ÿï¼šåœ¨ç»ˆç«¯ä¸‹æ‰§è¡Œå‘½ä»¤ï¼š&lt;code&gt;curl https://bootstrap.pypa.io/get-pip.py | python&lt;/code&gt;ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;windowsæ“ä½œç³»ç»Ÿï¼šä»&lt;a href=&#34;https://bootstrap.pypa.io/get-pip.pyä¸‹è½½get-pip.pyæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨pythonè¿è¡Œè¿™ä¸ªæ–‡ä»¶`python&#34;&gt;https://bootstrap.pypa.io/get-pip.pyä¸‹è½½get-pip.pyæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨pythonè¿è¡Œè¿™ä¸ªæ–‡ä»¶`python&lt;/a&gt; get-pip.py`å³å¯ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Java Thread Dump</title>
      <link>http://danigong.github.io/post/java_thread_dump/</link>
      <pubDate>Sat, 17 Mar 2018 16:59:13 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/java_thread_dump/</guid>
      <description>&lt;p&gt;è½¬è½½è‡ªï¼š&lt;a href=&#34;http://blog.csdn.net/rachel_luo/article/details/8920596&#34;&gt;http://blog.csdn.net/rachel_luo/article/details/8920596&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¸€ã€Thread Dumpä»‹ç»&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;1.1ä»€ä¹ˆæ˜¯Thread Dumpï¼Ÿ&lt;/p&gt;

&lt;p&gt;Thread Dumpæ˜¯éå¸¸æœ‰ç”¨çš„è¯Šæ–­Javaåº”ç”¨é—®é¢˜çš„å·¥å…·ã€‚æ¯ä¸€ä¸ªJavaè™šæ‹Ÿæœºéƒ½æœ‰åŠæ—¶ç”Ÿæˆæ‰€æœ‰çº¿ç¨‹åœ¨æŸä¸€ç‚¹çŠ¶æ€çš„thread-dumpçš„èƒ½åŠ›ï¼Œè™½ç„¶å„ä¸ª Javaè™šæ‹Ÿæœºæ‰“å°çš„thread dumpç•¥æœ‰ä¸åŒï¼Œä½†æ˜¯å¤§å¤šéƒ½æä¾›äº†å½“å‰æ´»åŠ¨çº¿ç¨‹çš„å¿«ç…§ï¼ŒåŠJVMä¸­æ‰€æœ‰Javaçº¿ç¨‹çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯ï¼Œå †æ ˆä¿¡æ¯ä¸€èˆ¬åŒ…å«å®Œæ•´çš„ç±»ååŠæ‰€æ‰§è¡Œçš„æ–¹æ³•ï¼Œå¦‚æœå¯èƒ½çš„è¯è¿˜æœ‰æºä»£ç çš„è¡Œæ•°ã€‚&lt;/p&gt;

&lt;p&gt;1.2 Thread Dumpç‰¹ç‚¹&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;èƒ½åœ¨å„ç§æ“ä½œç³»ç»Ÿä¸‹ä½¿ç”¨&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;èƒ½åœ¨å„ç§Javaåº”ç”¨æœåŠ¡å™¨ä¸‹ä½¿ç”¨&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨è€Œä¸å½±å“ç³»ç»Ÿçš„æ€§èƒ½&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¯ä»¥å°†é—®é¢˜ç›´æ¥å®šä½åˆ°åº”ç”¨ç¨‹åºçš„ä»£ç è¡Œä¸Š&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1.3 Thread Dump èƒ½è¯Šæ–­çš„é—®é¢˜&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æŸ¥æ‰¾å†…å­˜æ³„éœ²ï¼Œå¸¸è§çš„æ˜¯ç¨‹åºé‡Œloadå¤§é‡çš„æ•°æ®åˆ°ç¼“å­˜ï¼›&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å‘ç°æ­»é”çº¿ç¨‹ï¼›&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1.4å¦‚ä½•æŠ“å–Thread Dump&lt;/p&gt;

&lt;p&gt;ä¸€èˆ¬å½“æœåŠ¡å™¨æŒ‚èµ·,å´©æºƒæˆ–è€…æ€§èƒ½åº•ä¸‹æ—¶,å°±éœ€è¦æŠ“å–æœåŠ¡å™¨çš„çº¿ç¨‹å †æ ˆ(Thread Dump)ç”¨äºåç»­çš„åˆ†æ. åœ¨å®é™…è¿è¡Œä¸­ï¼Œå¾€å¾€ä¸€æ¬¡ dumpçš„ä¿¡æ¯ï¼Œè¿˜ä¸è¶³ä»¥ç¡®è®¤é—®é¢˜ã€‚ä¸ºäº†åæ˜ çº¿ç¨‹çŠ¶æ€çš„åŠ¨æ€å˜åŒ–ï¼Œéœ€è¦æ¥è¿å¤šæ¬¡åšthreaddumpï¼Œæ¯æ¬¡é—´éš”10-20sï¼Œå»ºè®®è‡³å°‘äº§ç”Ÿä¸‰æ¬¡ dumpä¿¡æ¯ï¼Œå¦‚æœæ¯æ¬¡ dumpéƒ½æŒ‡å‘åŒä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬æ‰ç¡®å®šé—®é¢˜çš„å…¸å‹æ€§ã€‚&lt;/p&gt;

&lt;p&gt;æœ‰å¾ˆå¤šæ–¹å¼å¯ç”¨äºè·å–ThreadDump, ä¸‹é¢åˆ—å‡ºä¸€éƒ¨åˆ†è·å–æ–¹å¼ï¼š&lt;/p&gt;

&lt;p&gt;æ“ä½œç³»ç»Ÿå‘½ä»¤è·å–ThreadDump:&lt;/p&gt;

&lt;p&gt;Windows:&lt;/p&gt;

&lt;p&gt;1.è½¬å‘æœåŠ¡å™¨çš„æ ‡å‡†è¾“å‡ºçª—å£å¹¶æŒ‰ä¸‹Control + Breakç»„åˆé”®, ä¹‹åéœ€è¦å°†çº¿ç¨‹å †æ ˆå¤åˆ¶åˆ°æ–‡ä»¶ä¸­ï¼›&lt;/p&gt;

&lt;p&gt;UNIX/ Linuxï¼š&lt;/p&gt;

&lt;p&gt;é¦–å…ˆæŸ¥æ‰¾åˆ°æœåŠ¡å™¨çš„è¿›ç¨‹å·(process id), ç„¶åè·å–çº¿ç¨‹å †æ ˆ.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ps â€“ef  | grep java&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;kill -3 &lt;pid&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ³¨æ„ï¼šä¸€å®šè¦è°¨æ…, ä¸€æ­¥ä¸æ…å°±å¯èƒ½è®©æœåŠ¡å™¨è¿›ç¨‹è¢«æ€æ­»ã€‚kill -9 å‘½ä»¤ä¼šæ€æ­»è¿›ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;JVM è‡ªå¸¦çš„å·¥å…·è·å–çº¿ç¨‹å †æ ˆ:&lt;/p&gt;

&lt;p&gt;JDKè‡ªå¸¦å‘½ä»¤è¡Œå·¥å…·è·å–PIDï¼Œå†è·å–ThreadDump:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;jps æˆ– ps â€“ef|grepjava (è·å–PID)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;jstack [-l ]&lt;pid&gt; | tee -a jstack.log  (è·å–ThreadDump)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;strong&gt;äºŒã€javaçº¿ç¨‹çš„çŠ¶æ€è½¬æ¢ä»‹ç»(ä¸ºåç»­åˆ†æåšå‡†å¤‡)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;2.1 æ–°å»ºçŠ¶æ€ï¼ˆNewï¼‰&lt;/p&gt;

&lt;p&gt;ç”¨newè¯­å¥åˆ›å»ºçš„çº¿ç¨‹å¤„äºæ–°å»ºçŠ¶æ€ï¼Œæ­¤æ—¶å®ƒå’Œå…¶ä»–Javaå¯¹è±¡ä¸€æ ·ï¼Œä»…ä»…åœ¨å †åŒºä¸­è¢«åˆ†é…äº†å†…å­˜ã€‚&lt;/p&gt;

&lt;p&gt;2.2 å°±ç»ªçŠ¶æ€ï¼ˆRunnableï¼‰&lt;/p&gt;

&lt;p&gt;å½“ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡åˆ›å»ºåï¼Œå…¶ä»–çº¿ç¨‹è°ƒç”¨å®ƒçš„start()æ–¹æ³•ï¼Œè¯¥çº¿ç¨‹å°±è¿›å…¥å°±ç»ªçŠ¶æ€ï¼ŒJavaè™šæ‹Ÿæœºä¼šä¸ºå®ƒåˆ›å»ºæ–¹æ³•è°ƒç”¨æ ˆå’Œç¨‹åºè®¡æ•°å™¨ã€‚å¤„äºè¿™ä¸ªçŠ¶æ€çš„çº¿ç¨‹ä½äºå¯è¿è¡Œæ± ä¸­ï¼Œç­‰å¾…è·å¾—CPUçš„ä½¿ç”¨æƒã€‚&lt;/p&gt;

&lt;p&gt;2.3 è¿è¡ŒçŠ¶æ€ï¼ˆRunningï¼‰&lt;/p&gt;

&lt;p&gt;å¤„äºè¿™ä¸ªçŠ¶æ€çš„çº¿ç¨‹å ç”¨CPUï¼Œæ‰§è¡Œç¨‹åºä»£ç ã€‚åªæœ‰å¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹æ‰æœ‰æœºä¼šè½¬åˆ°è¿è¡ŒçŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;2.4 é˜»å¡çŠ¶æ€ï¼ˆBlockedï¼‰&lt;/p&gt;

&lt;p&gt;é˜»å¡çŠ¶æ€æ˜¯æŒ‡çº¿ç¨‹å› ä¸ºæŸäº›åŸå› æ”¾å¼ƒCPUï¼Œæš‚æ—¶åœæ­¢è¿è¡Œã€‚å½“çº¿ç¨‹å¤„äºé˜»å¡çŠ¶æ€æ—¶ï¼ŒJavaè™šæ‹Ÿæœºä¸ä¼šç»™çº¿ç¨‹åˆ†é…CPUã€‚ç›´åˆ°çº¿ç¨‹é‡æ–°è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œå®ƒæ‰æœ‰æœºä¼šè½¬åˆ°è¿è¡ŒçŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;é˜»å¡çŠ¶æ€å¯åˆ†ä¸ºä»¥ä¸‹3ç§ï¼š&lt;/p&gt;

&lt;p&gt;1ï¼‰ä½äºå¯¹è±¡ç­‰å¾…æ± ä¸­çš„é˜»å¡çŠ¶æ€ï¼ˆBlocked in objectâ€™s wait poolï¼‰ï¼šå½“çº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€æ—¶ï¼Œå¦‚æœæ‰§è¡Œäº†æŸä¸ªå¯¹è±¡çš„wait()æ–¹æ³•ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠçº¿ç¨‹æ”¾åˆ°è¿™ä¸ªå¯¹è±¡çš„ç­‰å¾…æ± ä¸­ï¼Œè¿™æ¶‰åŠåˆ°â€œçº¿ç¨‹é€šä¿¡â€çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;2ï¼‰ä½äºå¯¹è±¡é”æ± ä¸­çš„é˜»å¡çŠ¶æ€ï¼ˆBlocked in objectâ€™s lock poolï¼‰ï¼šå½“çº¿ç¨‹å¤„äºè¿è¡ŒçŠ¶æ€æ—¶ï¼Œè¯•å›¾è·å¾—æŸä¸ªå¯¹è±¡çš„åŒæ­¥é”æ—¶ï¼Œå¦‚æœè¯¥å¯¹è±¡çš„åŒæ­¥é”å·²ç»è¢«å…¶ä»–çº¿ç¨‹å ç”¨ï¼ŒJavaè™šæ‹Ÿæœºå°±ä¼šæŠŠè¿™ä¸ªçº¿ç¨‹æ”¾åˆ°è¿™ä¸ªå¯¹è±¡çš„é”æ± ä¸­ï¼Œè¿™æ¶‰åŠåˆ°â€œçº¿ç¨‹åŒæ­¥â€çš„å†…å®¹ã€‚&lt;/p&gt;

&lt;p&gt;3ï¼‰å…¶ä»–é˜»å¡çŠ¶æ€ï¼ˆOtherwise Blockedï¼‰ï¼šå½“å‰çº¿ç¨‹æ‰§è¡Œäº†sleep()æ–¹æ³•ï¼Œæˆ–è€…è°ƒç”¨äº†å…¶ä»–çº¿ç¨‹çš„join()æ–¹æ³•ï¼Œæˆ–è€…å‘å‡ºäº†I/Oè¯·æ±‚æ—¶ï¼Œå°±ä¼šè¿›å…¥è¿™ä¸ªçŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;2.5 æ­»äº¡çŠ¶æ€ï¼ˆDeadï¼‰&lt;/p&gt;

&lt;p&gt;å½“çº¿ç¨‹é€€å‡ºrun()æ–¹æ³•æ—¶ï¼Œå°±è¿›å…¥æ­»äº¡çŠ¶æ€ï¼Œè¯¥çº¿ç¨‹ç»“æŸç”Ÿå‘½å‘¨æœŸã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä¸‰ã€Thread Dumpåˆ†æ&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;é€šè¿‡å‰é¢1.4éƒ¨åˆ†çš„æ–¹æ³•ï¼Œè·å–Thread Dumpä¿¡æ¯åï¼Œå¯¹å…¶è¿›è¡Œåˆ†æï¼›&lt;/p&gt;

&lt;p&gt;3.1 é¦–å…ˆä»‹ç»ä¸€ä¸‹Thread Dumpä¿¡æ¯çš„å„ä¸ªéƒ¨åˆ†&lt;/p&gt;

&lt;p&gt;å¤´éƒ¨ä¿¡æ¯ï¼š&lt;/p&gt;

&lt;p&gt;æ—¶é—´ï¼Œjvmä¿¡æ¯&lt;/p&gt;

&lt;p&gt;2011-11-02 19:05:06&lt;/p&gt;

&lt;p&gt;Full thread dump Java HotSpot&amp;trade; Server VM (16.3-b01 mixed mode):&lt;/p&gt;

&lt;p&gt;çº¿ç¨‹infoä¿¡æ¯å—ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&amp;ldquo;Timer-0&amp;rdquo; daemon prio=10tid=0xac190c00 nid=0xaef in Object.wait() [0xae77d000]&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;atjava.lang.Object.wait(Native Method)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;-waiting on &lt;0xb3885f60&gt; (a java.util.TaskQueue)     ###ç»§ç»­wait&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;atjava.util.TimerThread.mainLoop(Timer.java:509)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;-locked &lt;0xb3885f60&gt; (a java.util.TaskQueue)         ###å·²ç»locked&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;atjava.util.TimerThread.run(Timer.java:462)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;çº¿ç¨‹åç§°ï¼šTimer-0&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;çº¿ç¨‹ç±»å‹ï¼šdaemon&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä¼˜å…ˆçº§: 10ï¼Œé»˜è®¤æ˜¯5&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;jvmçº¿ç¨‹idï¼štid=0xac190c00ï¼Œjvmå†…éƒ¨çº¿ç¨‹çš„å”¯ä¸€æ ‡è¯†ï¼ˆé€šè¿‡java.lang.Thread.getId()è·å–ï¼Œé€šå¸¸ç”¨è‡ªå¢æ–¹å¼å®ç°ã€‚ï¼‰&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¯¹åº”ç³»ç»Ÿçº¿ç¨‹idï¼ˆNativeThread IDï¼‰ï¼šnid=0xaefï¼Œå’Œtopå‘½ä»¤æŸ¥çœ‹çš„çº¿ç¨‹pidå¯¹åº”ï¼Œä¸è¿‡ä¸€ä¸ªæ˜¯10è¿›åˆ¶ï¼Œä¸€ä¸ªæ˜¯16è¿›åˆ¶ã€‚ï¼ˆé€šè¿‡å‘½ä»¤ï¼štop -H -p pidï¼Œå¯ä»¥æŸ¥çœ‹è¯¥è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹ä¿¡æ¯ï¼‰&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;çº¿ç¨‹çŠ¶æ€ï¼šin Object.wait().&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;èµ·å§‹æ ˆåœ°å€ï¼š[0xae77d000]&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Java thread statck traceï¼šæ˜¯ä¸Šé¢2-7è¡Œçš„ä¿¡æ¯ã€‚åˆ°ç›®å‰ä¸ºæ­¢è¿™æ˜¯æœ€é‡è¦çš„æ•°æ®ï¼ŒJava stack traceæä¾›äº†å¤§éƒ¨åˆ†ä¿¡æ¯æ¥ç²¾ç¡®å®šä½é—®é¢˜æ ¹æºã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;å¯¹äºthread dumpä¿¡æ¯ï¼Œä¸»è¦å…³æ³¨çš„æ˜¯çº¿ç¨‹çš„çŠ¶æ€å’Œå…¶æ‰§è¡Œå †æ ˆã€‚ç°åœ¨é’ˆå¯¹è¿™ä¸¤ä¸ªé‡ç‚¹éƒ¨åˆ†è¿›è¡Œè®²è§£ï¼š&lt;/p&gt;

&lt;p&gt;1ï¼‰Java thread statck traceè¯¦è§£ï¼š&lt;/p&gt;

&lt;p&gt;å †æ ˆä¿¡æ¯åº”è¯¥é€†å‘è§£è¯»ï¼šç¨‹åºå…ˆæ‰§è¡Œçš„æ˜¯ç¬¬7è¡Œï¼Œç„¶åæ˜¯ç¬¬6è¡Œï¼Œä¾æ¬¡ç±»æ¨ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;locked &lt;0xb3885f60&gt; (a java.util.ArrayList)&lt;/li&gt;
&lt;li&gt;waiting on &lt;0xb3885f60&gt; (a java.util.ArrayList)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´å¯¹è±¡å…ˆä¸Šé”ï¼Œé”ä½å¯¹è±¡0xb3885f60ï¼Œç„¶åé‡Šæ”¾è¯¥å¯¹è±¡é”ï¼Œè¿›å…¥waitingçŠ¶æ€ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºå•¥ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µå‘¢ï¼Ÿçœ‹çœ‹ä¸‹é¢çš„javaä»£ç ç¤ºä¾‹ï¼Œå°±ä¼šæ˜ç™½ï¼š&lt;/p&gt;

&lt;p&gt;synchronized(obj) {&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;   .........  

   obj.wait();  

   .........  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;åœ¨å †æ ˆçš„ç¬¬ä¸€è¡Œä¿¡æ¯ä¸­ï¼Œè¿›ä¸€æ­¥æ ‡æ˜äº†çº¿ç¨‹åœ¨ä»£ç çº§çš„çŠ¶æ€ï¼Œä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;p&gt;java.lang.Thread.State: TIMED_WAITING (parking)&lt;/p&gt;

&lt;p&gt;è§£é‡Šå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;|blocked|&lt;/p&gt;

&lt;p&gt;This thread tried to enter asynchronized block, but the lock was taken by another thread. This thread isblocked until the lock gets released.&lt;/p&gt;

&lt;p&gt;|blocked (on thin lock)|&lt;/p&gt;

&lt;p&gt;This is the same state asblocked, but the lock in question is a thin lock.&lt;/p&gt;

&lt;p&gt;|waiting|&lt;/p&gt;

&lt;p&gt;This thread calledObject.wait() on an object. The thread will remain there until some otherthread sends a notification to that object.&lt;/p&gt;

&lt;p&gt;|sleeping|&lt;/p&gt;

&lt;p&gt;This thread calledjava.lang.Thread.sleep().&lt;/p&gt;

&lt;p&gt;|parked|&lt;/p&gt;

&lt;p&gt;This thread calledjava.util.concurrent.locks.LockSupport.park().&lt;/p&gt;

&lt;p&gt;|suspended|&lt;/p&gt;

&lt;p&gt;The thread&amp;rsquo;s execution wassuspended by java.lang.Thread.suspend() or a JVMTI agent call.&lt;/p&gt;

&lt;p&gt;2) çº¿ç¨‹çŠ¶æ€è¯¦è§£ï¼š&lt;/p&gt;

&lt;p&gt;Runnable
&lt;em&gt;The thread is either running or ready to run when it gets its CPU turn.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Wait on condition
&lt;em&gt;The thread is either sleeping or waiting to be notified by another thread.&lt;/em&gt;
    è¯¥çŠ¶æ€å‡ºç°åœ¨çº¿ç¨‹ç­‰å¾…æŸä¸ªæ¡ä»¶çš„å‘ç”Ÿæˆ–è€…sleepã€‚å…·ä½“æ˜¯ä»€ä¹ˆåŸå› ï¼Œå¯ä»¥ç»“åˆ stacktraceæ¥åˆ†æã€‚æœ€å¸¸è§çš„æƒ…å†µæ˜¯çº¿ç¨‹åœ¨ç­‰å¾…ç½‘ç»œçš„è¯»å†™ï¼Œæ¯”å¦‚å½“ç½‘ç»œæ•°æ®æ²¡æœ‰å‡†å¤‡å¥½è¯»æ—¶ï¼Œçº¿ç¨‹å¤„äºè¿™ç§ç­‰å¾…çŠ¶æ€ï¼Œè€Œä¸€æ—¦æœ‰æ•°æ®å‡†å¤‡å¥½è¯»ä¹‹åï¼Œçº¿ç¨‹ä¼šé‡æ–°æ¿€æ´»ï¼Œè¯»å–å¹¶å¤„ç†æ•°æ®ã€‚åœ¨Javaå¼•å…¥ New IOä¹‹å‰ï¼Œå¯¹äºæ¯ä¸ªç½‘ç»œè¿æ¥ï¼Œéƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„çº¿ç¨‹æ¥å¤„ç†ç½‘ç»œçš„è¯»å†™æ“ä½œï¼Œå³ä½¿æ²¡æœ‰å¯è¯»å†™çš„æ•°æ®ï¼Œçº¿ç¨‹ä»ç„¶é˜»å¡åœ¨è¯»å†™æ“ä½œä¸Šï¼Œè¿™æ ·æœ‰å¯èƒ½é€ æˆèµ„æºæµªè´¹ï¼Œè€Œä¸”ç»™æ“ä½œç³»ç»Ÿçš„çº¿ç¨‹è°ƒåº¦ä¹Ÿå¸¦æ¥å‹åŠ›ã€‚åœ¨ New IOé‡Œé‡‡ç”¨äº†æ–°çš„æœºåˆ¶ï¼Œç¼–å†™çš„æœåŠ¡å™¨ç¨‹åºçš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§éƒ½å¾—åˆ°æé«˜ã€‚
    å¦‚æœå‘ç°æœ‰å¤§é‡çš„çº¿ç¨‹éƒ½å¤„åœ¨ Wait on conditionï¼Œä»çº¿ç¨‹ stackçœ‹ï¼Œ æ­£ç­‰å¾…ç½‘ç»œè¯»å†™ï¼Œè¿™å¯èƒ½æ˜¯ä¸€ä¸ªç½‘ç»œç“¶é¢ˆçš„å¾å…†ã€‚å› ä¸ºç½‘ç»œé˜»å¡å¯¼è‡´çº¿ç¨‹æ— æ³•æ‰§è¡Œã€‚ä¸€ç§æƒ…å†µæ˜¯ç½‘ç»œéå¸¸å¿™ï¼Œå‡ ä¹æ¶ˆè€—äº†æ‰€æœ‰çš„å¸¦å®½ï¼Œä»ç„¶æœ‰å¤§é‡æ•°æ®ç­‰å¾…ç½‘ç»œè¯»å†™ï¼›å¦ä¸€ç§æƒ…å†µä¹Ÿå¯èƒ½æ˜¯ç½‘ç»œç©ºé—²ï¼Œä½†ç”±äºè·¯ç”±ç­‰é—®é¢˜ï¼Œå¯¼è‡´åŒ…æ— æ³•æ­£å¸¸çš„åˆ°è¾¾ã€‚æ‰€ä»¥è¦ç»“åˆç³»ç»Ÿçš„ä¸€äº›æ€§èƒ½è§‚å¯Ÿå·¥å…·æ¥ç»¼åˆåˆ†æï¼Œæ¯”å¦‚ netstatç»Ÿè®¡å•ä½æ—¶é—´çš„å‘é€åŒ…çš„æ•°ç›®ï¼Œçœ‹æ˜¯å¦å¾ˆæ˜æ˜¾è¶…è¿‡äº†æ‰€åœ¨ç½‘ç»œå¸¦å®½çš„é™åˆ¶ï¼›è§‚å¯Ÿcpuçš„åˆ©ç”¨ç‡ï¼Œçœ‹ç³»ç»Ÿæ€çš„CPUæ—¶é—´æ˜¯å¦æ˜æ˜¾å¤§äºç”¨æˆ·æ€çš„CPUæ—¶é—´ï¼›å¦‚æœç¨‹åºè¿è¡Œåœ¨ Solaris 10å¹³å°ä¸Šï¼Œå¯ä»¥ç”¨dtraceå·¥å…·çœ‹ç³»ç»Ÿè°ƒç”¨çš„æƒ…å†µï¼Œå¦‚æœè§‚å¯Ÿåˆ° read/writeçš„ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°æˆ–è€…è¿è¡Œæ—¶é—´é¥é¥é¢†å…ˆï¼›è¿™äº›éƒ½æŒ‡å‘ç”±äºç½‘ç»œå¸¦å®½æ‰€é™å¯¼è‡´çš„ç½‘ç»œç“¶é¢ˆã€‚å¦å¤–ä¸€ç§å‡ºç° Wait on conditionçš„å¸¸è§æƒ…å†µæ˜¯è¯¥çº¿ç¨‹åœ¨ sleepï¼Œç­‰å¾… sleepçš„æ—¶é—´åˆ°äº†ï¼Œå°†è¢«å”¤é†’ã€‚&lt;/p&gt;

&lt;p&gt;Waiting for Monitor Entry and in Object.wait()&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The thread is waiting to getthe lock for an object (some other thread may be holding the lock). Thishappens if two or more threads try to execute synchronized code. Note that thelock is always for an object and not for individual methods.&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;åœ¨å¤šçº¿ç¨‹çš„ JAVAç¨‹åºä¸­ï¼Œå®ç°çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥ï¼Œå°±è¦è¯´è¯´ Monitorã€‚ Monitoræ˜¯Javaä¸­ç”¨ä»¥å®ç°çº¿ç¨‹ä¹‹é—´çš„äº’æ–¥ä¸åä½œçš„ä¸»è¦æ‰‹æ®µï¼Œå®ƒå¯ä»¥çœ‹æˆæ˜¯å¯¹è±¡æˆ–è€… Classçš„é”ã€‚æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ï¼Œä¹Ÿä»…æœ‰ä¸€ä¸ª monitorã€‚æ¯ä¸ª Monitoråœ¨æŸä¸ªæ—¶åˆ»ï¼Œåªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰ï¼Œè¯¥çº¿ç¨‹å°±æ˜¯ â€œActiveThreadâ€ï¼Œè€Œå…¶å®ƒçº¿ç¨‹éƒ½æ˜¯ â€œWaiting Threadâ€ï¼Œåˆ†åˆ«åœ¨ä¸¤ä¸ªé˜Ÿåˆ— â€œ Entry Setâ€å’Œ â€œWait Setâ€é‡Œé¢ç­‰å€™ã€‚åœ¨ â€œEntry Setâ€ä¸­ç­‰å¾…çš„çº¿ç¨‹çŠ¶æ€æ˜¯ â€œWaiting for monitorentryâ€ï¼Œè€Œåœ¨ â€œWait Setâ€ä¸­ç­‰å¾…çš„çº¿ç¨‹çŠ¶æ€æ˜¯â€œin Object.wait()â€ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å…ˆçœ‹ â€œEntry Setâ€é‡Œé¢çš„çº¿ç¨‹ã€‚æˆ‘ä»¬ç§°è¢« synchronizedä¿æŠ¤èµ·æ¥çš„ä»£ç æ®µä¸ºä¸´ç•ŒåŒºã€‚å½“ä¸€ä¸ªçº¿ç¨‹ç”³è¯·è¿›å…¥ä¸´ç•ŒåŒºæ—¶ï¼Œå®ƒå°±è¿›å…¥äº† â€œEntry Setâ€é˜Ÿåˆ—ã€‚å¯¹åº”çš„ codeå°±åƒï¼š
synchronized(obj) {
    &amp;hellip;&amp;hellip;&amp;hellip;
}
è¿™æ—¶æœ‰ä¸¤ç§å¯èƒ½æ€§ï¼š
    è¯¥ monitorä¸è¢«å…¶å®ƒçº¿ç¨‹æ‹¥æœ‰ï¼Œ Entry Seté‡Œé¢ä¹Ÿæ²¡æœ‰å…¶å®ƒç­‰å¾…çº¿ç¨‹ã€‚æœ¬çº¿ç¨‹å³æˆä¸ºç›¸åº”ç±»æˆ–è€…å¯¹è±¡çš„ Monitorçš„ Ownerï¼Œæ‰§è¡Œä¸´ç•ŒåŒºçš„ä»£ç ã€‚
    è¯¥ monitorè¢«å…¶å®ƒçº¿ç¨‹æ‹¥æœ‰ï¼Œæœ¬çº¿ç¨‹åœ¨ Entry Seté˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚
    åœ¨ç¬¬ä¸€ç§æƒ…å†µä¸‹ï¼Œçº¿ç¨‹å°†å¤„äº â€œRunnableâ€çš„çŠ¶æ€ï¼Œè€Œç¬¬äºŒç§æƒ…å†µä¸‹ï¼Œçº¿ç¨‹ DUMPä¼šæ˜¾ç¤ºå¤„äº â€œwaiting for monitor entryâ€ã€‚&lt;/p&gt;

&lt;p&gt;ä¸´ç•ŒåŒºçš„è®¾ç½®ï¼Œæ˜¯ä¸ºäº†ä¿è¯å…¶å†…éƒ¨çš„ä»£ç æ‰§è¡Œçš„åŸå­æ€§å’Œå®Œæ•´æ€§ã€‚ä½†æ˜¯å› ä¸ºä¸´ç•ŒåŒºåœ¨ä»»ä½•æ—¶é—´åªå…è®¸çº¿ç¨‹ä¸²è¡Œé€šè¿‡ï¼Œè¿™å’Œæˆ‘ä»¬å¤šçº¿ç¨‹çš„ç¨‹åºçš„åˆè¡·æ˜¯ç›¸åçš„ã€‚å¦‚æœåœ¨å¤šçº¿ç¨‹çš„ç¨‹åºä¸­ï¼Œå¤§é‡ä½¿ç”¨ synchronizedï¼Œæˆ–è€…ä¸é€‚å½“çš„ä½¿ç”¨äº†å®ƒï¼Œä¼šé€ æˆå¤§é‡çº¿ç¨‹åœ¨ä¸´ç•ŒåŒºçš„å…¥å£ç­‰å¾…ï¼Œé€ æˆç³»ç»Ÿçš„æ€§èƒ½å¤§å¹…ä¸‹é™ã€‚å¦‚æœåœ¨çº¿ç¨‹ DUMPä¸­å‘ç°äº†è¿™ä¸ªæƒ…å†µï¼Œåº”è¯¥å®¡æŸ¥æºç ï¼Œæ”¹è¿›ç¨‹åºã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;å†çœ‹â€œWait Setâ€é‡Œé¢çš„çº¿ç¨‹ã€‚å½“çº¿ç¨‹è·å¾—äº† Monitorï¼Œè¿›å…¥äº†ä¸´ç•ŒåŒºä¹‹åï¼Œå¦‚æœå‘ç°çº¿ç¨‹ç»§ç»­è¿è¡Œçš„æ¡ä»¶æ²¡æœ‰æ»¡è¶³ï¼Œå®ƒåˆ™è°ƒç”¨å¯¹è±¡ï¼ˆä¸€èˆ¬å°±æ˜¯è¢« synchronized çš„å¯¹è±¡ï¼‰çš„ wait() æ–¹æ³•ï¼Œæ”¾å¼ƒ Monitorï¼Œè¿›å…¥ â€œWait Setâ€é˜Ÿåˆ—ã€‚åªæœ‰å½“åˆ«çš„çº¿ç¨‹åœ¨è¯¥å¯¹è±¡ä¸Šè°ƒç”¨äº† notify() æˆ–è€… notifyAll()ï¼Œâ€œWait Setâ€é˜Ÿåˆ—ä¸­çº¿ç¨‹æ‰å¾—åˆ°æœºä¼šå»ç«äº‰ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹è·å¾—å¯¹è±¡çš„Monitorï¼Œæ¢å¤åˆ°è¿è¡Œæ€ã€‚åœ¨ â€œWait Setâ€ä¸­çš„çº¿ç¨‹ï¼Œ DUMPä¸­è¡¨ç°ä¸ºï¼š in Object.wait()ã€‚
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸€èˆ¬ï¼ŒCpuå¾ˆå¿™æ—¶ï¼Œåˆ™å…³æ³¨runnableçš„çº¿ç¨‹ï¼ŒCpuå¾ˆé—²æ—¶ï¼Œåˆ™å…³æ³¨waiting for monitor entryçš„çº¿ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;3.2 JVMçº¿ç¨‹ä»‹ç»&lt;/p&gt;

&lt;p&gt;åœ¨Thread Dumpä¸­ï¼Œæœ‰ä¸€äº› JVMå†…éƒ¨çš„åå°çº¿ç¨‹ï¼Œæ¥æ‰§è¡Œè­¬å¦‚åƒåœ¾å›æ”¶ï¼Œæˆ–è€…ä½å†…å­˜çš„æ£€æµ‹ç­‰ç­‰ä»»åŠ¡ï¼Œè¿™äº›çº¿ç¨‹å¾€å¾€åœ¨ JVMåˆå§‹åŒ–çš„æ—¶å€™å°±å­˜åœ¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;

&lt;p&gt;HotSpot VM Thread&lt;/p&gt;

&lt;p&gt;è¢«HotSpot VMç®¡ç†çš„å†…éƒ¨çº¿ç¨‹ä¸ºäº†å®Œæˆå†…éƒ¨æœ¬åœ°æ“ä½œï¼Œä¸€èˆ¬æ¥è¯´ä¸éœ€è¦æ‹…å¿ƒå®ƒä»¬ï¼Œé™¤éCPUå¾ˆé«˜ã€‚&lt;/p&gt;

&lt;p&gt;&amp;ldquo;VM Periodic Task Thread&amp;rdquo; prio=10tid=0xad909400 nid=0xaed waiting on condition&lt;/p&gt;

&lt;p&gt;HotSpot GC Thread&lt;/p&gt;

&lt;p&gt;å½“ä½¿ç”¨HotSpot parallel GCï¼ŒHotSpot VMé»˜è®¤åˆ›å»ºä¸€å®šæ•°ç›®çš„GC threadã€‚&lt;/p&gt;

&lt;p&gt;&amp;ldquo;GC task thread#0 (ParallelGC)&amp;ldquo;prio=10 tid=0xf690b400 nid=0xade runnable&lt;/p&gt;

&lt;p&gt;&amp;ldquo;GC task thread#1 (ParallelGC)&amp;ldquo;prio=10 tid=0xf690cc00 nid=0xadf runnable&lt;/p&gt;

&lt;p&gt;&amp;ldquo;GC task thread#2 (ParallelGC)&amp;ldquo;prio=10 tid=0xf690e000 nid=0xae0 runnable&lt;/p&gt;

&lt;p&gt;â€¦â€¦&lt;/p&gt;

&lt;p&gt;å½“é¢å¯¹è¿‡å¤šGCï¼Œå†…å­˜æ³„éœ²ç­‰é—®é¢˜æ—¶ï¼Œè¿™äº›æ˜¯å…³é”®çš„æ•°æ®ã€‚ä½¿ç”¨native idï¼Œå¯ä»¥å°†ä»OS/Javaè¿›ç¨‹è§‚æµ‹åˆ°çš„é«˜CPUä¸è¿™äº›çº¿ç¨‹å…³è”èµ·æ¥ã€‚&lt;/p&gt;

&lt;p&gt;JNI global references count&lt;/p&gt;

&lt;p&gt;JNI global referenceæ˜¯åŸºæœ¬çš„å¯¹è±¡å¼•ç”¨ï¼Œä»æœ¬åœ°ä»£ç åˆ°è¢«Java GCç®¡ç†çš„Javaå¯¹è±¡çš„å¼•ç”¨ã€‚å…¶è§’è‰²æ˜¯é˜»æ­¢ä»ç„¶è¢«æœ¬åœ°ä»£ç ä½¿ç”¨çš„å¯¹è±¡é›†åˆï¼Œä½†åœ¨Javaä»£ç ä¸­æ²¡æœ‰å¼•ç”¨ã€‚åœ¨æ¢æµ‹JNIç›¸å…³å†…å­˜æ³„éœ²æ—¶ï¼Œå…³æ³¨JNI referenceså¾ˆé‡è¦ã€‚å¦‚æœä½ çš„ç¨‹åºç›´æ¥ä½¿ç”¨JNIæˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ï¼Œå¦‚æ£€æµ‹å·¥å…·ï¼Œæ£€æµ‹æœ¬åœ°å†…å­˜æ³„éœ²ã€‚&lt;/p&gt;

&lt;p&gt;JNI global references: 832&lt;/p&gt;

&lt;p&gt;Java Heap utilization view&lt;/p&gt;

&lt;p&gt;ä»jdk1.6å¼€å§‹åœ¨thread dumpå¿«ç…§åº•éƒ¨ï¼Œå¯ä»¥æ‰¾åˆ°å´©æºƒç‚¹çš„å†…å­˜ç©ºé—´åˆ©ç”¨æƒ…å†µ:YongGen,OldGenå’ŒPermGenã€‚ç›®å‰æˆ‘æµ‹è¯•çš„ç³»ç»Ÿå¯¼å‡ºçš„thread dumpï¼Œè¿˜æœªè§åˆ°è¿™ä¸€éƒ¨åˆ†å†…å®¹ï¼ˆsun jdk1.6ï¼‰ã€‚ä»¥ä¸‹ä¾‹å­ï¼Œæ‘˜è‡ªä»–äººæ–‡ç« ï¼š&lt;/p&gt;

&lt;p&gt;Heap&lt;/p&gt;

&lt;p&gt;PSYoungGen      total 466944K, used 178734K [0xffffffff45c00000, 0xffffffff70800000, 0xffffffff70800000)&lt;/p&gt;

&lt;p&gt;eden space 233472K, 76% used [0xffffffff45c00000,0xffffffff50ab7c50,0xffffffff54000000)&lt;/p&gt;

&lt;p&gt;from space 233472K, 0% used [0xffffffff62400000,0xffffffff62400000,0xffffffff70800000)&lt;/p&gt;

&lt;p&gt;to   space 233472K, 0% used [0xffffffff54000000,0xffffffff54000000,0xffffffff62400000)&lt;/p&gt;

&lt;p&gt;PSOldGen        total 1400832K, used 1400831K [0xfffffffef0400000, 0xffffffff45c00000, 0xffffffff45c00000)&lt;/p&gt;

&lt;p&gt;object space 1400832K, 99% used [0xfffffffef0400000,0xffffffff45bfffb8,0xffffffff45c00000)&lt;/p&gt;

&lt;p&gt;PSPermGen       total 262144K, used 248475K [0xfffffffed0400000, 0xfffffffee0400000, 0xfffffffef0400000)&lt;/p&gt;

&lt;p&gt;object space 262144K, 94% used [0xfffffffed0400000,0xfffffffedf6a6f08,0xfffffffee0400000)&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰ä¸€äº›å…¶ä»–çš„çº¿ç¨‹ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œæœ‰å…´è¶£ï¼Œå¯æŸ¥çœ‹æ–‡ç« æœ€åçš„é™„ä»¶ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;p&gt;&amp;ldquo;Low Memory Detector&amp;rdquo; daemon prio=10tid=0xad907400 nid=0xaec runnable [0x00000000]&lt;/p&gt;

&lt;p&gt;&amp;ldquo;CompilerThread1&amp;rdquo; daemon prio=10tid=0xad905400 nid=0xaeb waiting on condition [0x00000000]&lt;/p&gt;

&lt;p&gt;&amp;ldquo;CompilerThread0&amp;rdquo; daemon prio=10tid=0xad903c00 nid=0xaea waiting on condition [0x00000000]&lt;/p&gt;

&lt;p&gt;&amp;ldquo;Signal Dispatcher&amp;rdquo; daemon prio=10tid=0xad902400 nid=0xae9 runnable [0x00000000]&lt;/p&gt;

&lt;p&gt;&amp;ldquo;Finalizer&amp;rdquo; daemon prio=10tid=0xf69eec00 nid=0xae8 in Object.wait() [0xaf17d000]&lt;/p&gt;

&lt;p&gt;&amp;ldquo;Reference Handler&amp;rdquo; daemon prio=10tid=0xf69ed800 nid=0xae7 in Object.wait() [0xae1e7000]&lt;/p&gt;

&lt;p&gt;&amp;ldquo;VM Thread&amp;rdquo; prio=10 tid=0xf69e9800nid=0xae6 runnable&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å››ã€æ¡ˆä¾‹åˆ†æï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;4.1ã€ä½¿ç”¨æ–¹æ¡ˆ&lt;/p&gt;

&lt;p&gt;cpué£™é«˜ï¼Œloadé«˜ï¼Œå“åº”å¾ˆæ…¢&lt;/p&gt;

&lt;p&gt;æ–¹æ¡ˆï¼š
* ä¸€ä¸ªè¯·æ±‚è¿‡ç¨‹ä¸­å¤šæ¬¡dump&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å¯¹æ¯”å¤šæ¬¡dumpæ–‡ä»¶çš„runnableçº¿ç¨‹ï¼Œå¦‚æœæ‰§è¡Œçš„æ–¹æ³•æœ‰æ¯”è¾ƒå¤§å˜åŒ–ï¼Œè¯´æ˜æ¯”è¾ƒæ­£å¸¸ã€‚å¦‚æœåœ¨æ‰§è¡ŒåŒä¸€ä¸ªæ–¹æ³•ï¼Œå°±æœ‰ä¸€äº›é—®é¢˜äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æŸ¥æ‰¾å ç”¨cpuæœ€å¤šçš„çº¿ç¨‹ä¿¡æ¯&lt;/p&gt;

&lt;p&gt;æ–¹æ¡ˆï¼š
* ä½¿ç”¨å‘½ä»¤ï¼š top -H -p pidï¼ˆpidä¸ºè¢«æµ‹ç³»ç»Ÿçš„è¿›ç¨‹å·ï¼‰ï¼Œæ‰¾åˆ°å¯¼è‡´cpué«˜çš„çº¿ç¨‹idã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šè¿°Topå‘½ä»¤æ‰¾åˆ°çš„çº¿ç¨‹idï¼Œå¯¹åº”ç€dump threadä¿¡æ¯ä¸­çº¿ç¨‹çš„nidï¼Œåªä¸è¿‡ä¸€ä¸ªæ˜¯åè¿›åˆ¶ï¼Œä¸€ä¸ªæ˜¯åå…­è¿›åˆ¶ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åœ¨thread dumpä¸­ï¼Œæ ¹æ®topå‘½ä»¤æŸ¥æ‰¾çš„çº¿ç¨‹idï¼ŒæŸ¥æ‰¾å¯¹åº”çš„çº¿ç¨‹å †æ ˆä¿¡æ¯ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;cpuä½¿ç”¨ç‡ä¸é«˜ä½†æ˜¯å“åº”å¾ˆæ…¢&lt;/p&gt;

&lt;p&gt;æ–¹æ¡ˆï¼š
* è¿›è¡Œdumpï¼ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¾ˆå¤šthread struckåœ¨äº†i/oã€æ•°æ®åº“ç­‰åœ°æ–¹ï¼Œå®šä½ç“¶é¢ˆåŸå› ã€‚&lt;/p&gt;

&lt;p&gt;è¯·æ±‚æ— æ³•å“åº”&lt;/p&gt;

&lt;p&gt;æ–¹æ¡ˆï¼š
* å¤šæ¬¡dumpï¼Œå¯¹æ¯”æ˜¯å¦æ‰€æœ‰çš„runnableçº¿ç¨‹éƒ½ä¸€ç›´åœ¨æ‰§è¡Œç›¸åŒçš„æ–¹æ³•ï¼Œå¦‚æœæ˜¯çš„ï¼Œæ­å–œä½ ï¼Œé”ä½äº†ï¼&lt;/p&gt;

&lt;p&gt;4.2 æ¡ˆä¾‹åˆ†æï¼š&lt;/p&gt;

&lt;p&gt;1.æ­»é”ï¼š&lt;/p&gt;

&lt;p&gt;æ­»é”ç»å¸¸è¡¨ç°ä¸ºç¨‹åºçš„åœé¡¿ï¼Œæˆ–è€…ä¸å†å“åº”ç”¨æˆ·çš„è¯·æ±‚ã€‚ä»æ“ä½œç³»ç»Ÿä¸Šè§‚å¯Ÿï¼Œå¯¹åº”è¿›ç¨‹çš„CPUå ç”¨ç‡ä¸ºé›¶ï¼Œå¾ˆå¿«ä¼šä»topæˆ–prstatçš„è¾“å‡ºä¸­æ¶ˆå¤±ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;åœ¨thread dumpä¸­ï¼Œä¼šçœ‹åˆ°ç±»ä¼¼äºè¿™æ ·çš„ä¿¡æ¯ï¼š
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ï¼ˆå›¾ 1ï¼‰&lt;/p&gt;

&lt;p&gt;ï¼ˆå›¾2ï¼‰&lt;/p&gt;

&lt;p&gt;è¯´æ˜ï¼š&lt;/p&gt;

&lt;p&gt;ï¼ˆå›¾1ï¼‰ä¸­æœ‰ä¸€ä¸ªâ€œWaiting formonitor entryâ€ï¼Œå¯ä»¥çœ‹å‡ºï¼Œä¸¤ä¸ªçº¿ç¨‹å„æŒæœ‰ä¸€ä¸ªé”ï¼Œåˆåœ¨ç­‰å¾…å¦ä¸€ä¸ªé”ï¼Œå¾ˆæ˜æ˜¾è¿™ä¸¤ä¸ªçº¿ç¨‹äº’ç›¸æŒæœ‰å¯¹æ–¹æ­£åœ¨ç­‰å¾…çš„é”ã€‚æ‰€ä»¥é€ æˆäº†æ­»é”ç°è±¡ï¼›&lt;/p&gt;

&lt;p&gt;ï¼ˆå›¾2ï¼‰ä¸­å¯¹æ­»é”çš„ç°è±¡åšäº†è¯´æ˜ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæ˜¯â€œDeadLockTest.javaâ€çš„39è¡Œé€ æˆçš„æ­»é”ç°è±¡ã€‚è¿™æ ·å°±èƒ½åˆ°ç›¸åº”çš„ä»£ç ä¸‹å»æŸ¥çœ‹ï¼Œå®šä½é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;2.çƒ­é”&lt;/p&gt;

&lt;p&gt;çƒ­é”ï¼Œä¹Ÿå¾€å¾€æ˜¯å¯¼è‡´ç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆçš„ä¸»è¦å› ç´ ã€‚å…¶è¡¨ç°ç‰¹å¾ä¸ºï¼šç”±äºå¤šä¸ªçº¿ç¨‹å¯¹ä¸´ç•ŒåŒºï¼Œæˆ–è€…é”çš„ç«äº‰ï¼Œå¯èƒ½å‡ºç°ï¼š
    * é¢‘ç¹çš„çº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šä»æ“ä½œç³»ç»Ÿå¯¹çº¿ç¨‹çš„è°ƒåº¦æ¥çœ‹ï¼Œå½“çº¿ç¨‹åœ¨ç­‰å¾…èµ„æºè€Œé˜»å¡çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†ä¹‹åˆ‡æ¢å‡ºæ¥ï¼Œæ”¾åˆ°ç­‰å¾…çš„é˜Ÿåˆ—ï¼Œå½“çº¿ç¨‹è·å¾—èµ„æºä¹‹åï¼Œè°ƒåº¦ç®—æ³•ä¼šå°†è¿™ä¸ªçº¿ç¨‹åˆ‡æ¢è¿›å»ï¼Œæ”¾åˆ°æ‰§è¡Œé˜Ÿåˆ—ä¸­ã€‚
    * å¤§é‡çš„ç³»ç»Ÿè°ƒç”¨ï¼šå› ä¸ºçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä»¥åŠçƒ­é”çš„ç«äº‰ï¼Œæˆ–è€…ä¸´ç•ŒåŒºçš„é¢‘ç¹çš„è¿›å‡ºï¼Œéƒ½å¯èƒ½å¯¼è‡´å¤§é‡çš„ç³»ç»Ÿè°ƒç”¨ã€‚
    * å¤§éƒ¨åˆ†CPUå¼€é”€ç”¨åœ¨â€œç³»ç»Ÿæ€ â€ï¼šçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå’Œç³»ç»Ÿè°ƒç”¨ï¼Œéƒ½ä¼šå¯¼è‡´ CPUåœ¨ â€œç³»ç»Ÿæ€ â€è¿è¡Œï¼Œæ¢è€Œè¨€ä¹‹ï¼Œè™½ç„¶ç³»ç»Ÿå¾ˆå¿™ç¢Œï¼Œä½†æ˜¯ CPUç”¨åœ¨ â€œç”¨æˆ·æ€ â€çš„æ¯”ä¾‹è¾ƒå°ï¼Œåº”ç”¨ç¨‹åºå¾—ä¸åˆ°å……åˆ†çš„ CPUèµ„æºã€‚
    * éšç€ CPUæ•°ç›®çš„å¢å¤šï¼Œç³»ç»Ÿçš„æ€§èƒ½åè€Œä¸‹é™ã€‚å› ä¸ºCPUæ•°ç›®å¤šï¼ŒåŒæ—¶è¿è¡Œçš„çº¿ç¨‹å°±è¶Šå¤šï¼Œå¯èƒ½å°±ä¼šé€ æˆæ›´é¢‘ç¹çš„çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç³»ç»Ÿæ€çš„CPUå¼€é”€ï¼Œä»è€Œå¯¼è‡´æ›´ç³Ÿç³•çš„æ€§èƒ½ã€‚
    ä¸Šé¢çš„æè¿°ï¼Œéƒ½æ˜¯ä¸€ä¸ª scalabilityï¼ˆå¯æ‰©å±•æ€§ï¼‰å¾ˆå·®çš„ç³»ç»Ÿçš„è¡¨ç°ã€‚ä»æ•´ä½“çš„æ€§èƒ½æŒ‡æ ‡çœ‹ï¼Œç”±äºçº¿ç¨‹çƒ­é”çš„å­˜åœ¨ï¼Œç¨‹åºçš„å“åº”æ—¶é—´ä¼šå˜é•¿ï¼Œååé‡ä¼šé™ä½ã€‚
    é‚£ä¹ˆï¼Œæ€ä¹ˆå»äº†è§£ â€œçƒ­é” â€å‡ºç°åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿä¸€ä¸ªé‡è¦çš„æ–¹æ³•è¿˜æ˜¯ç»“åˆæ“ä½œç³»ç»Ÿçš„å„ç§å·¥å…·è§‚å¯Ÿç³»ç»Ÿèµ„æºä½¿ç”¨çŠ¶å†µï¼Œä»¥åŠæ”¶é›†Javaçº¿ç¨‹çš„DUMPä¿¡æ¯ï¼Œçœ‹çº¿ç¨‹éƒ½é˜»å¡åœ¨ä»€ä¹ˆæ–¹æ³•ä¸Šï¼Œäº†è§£åŸå› ï¼Œæ‰èƒ½æ‰¾åˆ°å¯¹åº”çš„è§£å†³æ–¹æ³•ã€‚
    æˆ‘ä»¬æ›¾ç»é‡åˆ°è¿‡è¿™æ ·çš„ä¾‹å­ï¼Œç¨‹åºè¿è¡Œæ—¶ï¼Œå‡ºç°äº†ä»¥ä¸ŠæŒ‡å‡ºçš„å„ç§ç°è±¡ï¼Œé€šè¿‡è§‚å¯Ÿæ“ä½œç³»ç»Ÿçš„èµ„æºä½¿ç”¨ç»Ÿè®¡ä¿¡æ¯ï¼Œä»¥åŠçº¿ç¨‹ DUMPä¿¡æ¯ï¼Œç¡®å®šäº†ç¨‹åºä¸­çƒ­é”çš„å­˜åœ¨ï¼Œå¹¶å‘ç°å¤§å¤šæ•°çš„çº¿ç¨‹çŠ¶æ€éƒ½æ˜¯ Waitingfor monitor entryæˆ–è€… Wait on monitorï¼Œä¸”æ˜¯é˜»å¡åœ¨å‹ç¼©å’Œè§£å‹ç¼©çš„æ–¹æ³•ä¸Šã€‚åæ¥é‡‡ç”¨ç¬¬ä¸‰æ–¹çš„å‹ç¼©åŒ… javalibæ›¿ä»£ JDKè‡ªå¸¦çš„å‹ç¼©åŒ…åï¼Œç³»ç»Ÿçš„æ€§èƒ½æé«˜äº†å‡ å€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;äº”ã€é™„ä»¶ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;JVMè¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸€äº›æ¯”è¾ƒé‡è¦çš„çº¿ç¨‹ç½—åˆ—å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;çº¿ç¨‹åç§°&lt;/p&gt;

&lt;p&gt;æ‰€å±&lt;/p&gt;

&lt;p&gt;è§£é‡Šè¯´æ˜&lt;/p&gt;

&lt;p&gt;Attach Listener&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;Attach Listener çº¿ç¨‹æ˜¯è´Ÿè´£æ¥æ”¶åˆ°å¤–éƒ¨çš„å‘½ä»¤ï¼Œè€Œå¯¹è¯¥å‘½ä»¤è¿›è¡Œæ‰§è¡Œçš„å¹¶ä¸”å§ç»“æœè¿”å›ç»™å‘é€è€…ã€‚é€šå¸¸æˆ‘ä»¬ä¼šç”¨ä¸€äº›å‘½ä»¤å»è¦æ±‚jvmç»™æˆ‘ä»¬ä¸€äº›åé¦ˆä¿¡æ¯ï¼Œå¦‚ï¼šjava -versionã€jmapã€jstackç­‰ç­‰ã€‚ å¦‚æœè¯¥çº¿ç¨‹åœ¨jvmå¯åŠ¨çš„æ—¶å€™æ²¡æœ‰åˆå§‹åŒ–ï¼Œé‚£ä¹ˆï¼Œåˆ™ä¼šåœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡æ‰§è¡Œjvmå‘½ä»¤æ—¶ï¼Œå¾—åˆ°å¯åŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;Signal Dispatcher&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;å‰é¢æˆ‘ä»¬æåˆ°ç¬¬ä¸€ä¸ªAttach Listenerçº¿ç¨‹çš„èŒè´£æ˜¯æ¥æ”¶å¤–éƒ¨jvmå‘½ä»¤ï¼Œå½“å‘½ä»¤æ¥æ”¶æˆåŠŸåï¼Œä¼šäº¤ç»™signal dispather çº¿ç¨‹å»è¿›è¡Œåˆ†å‘åˆ°å„ä¸ªä¸åŒçš„æ¨¡å—å¤„ç†å‘½ä»¤ï¼Œå¹¶ä¸”è¿”å›å¤„ç†ç»“æœã€‚ signal dispatherçº¿ç¨‹ä¹Ÿæ˜¯åœ¨ç¬¬ä¸€æ¬¡æ¥æ”¶å¤–éƒ¨jvmå‘½ä»¤æ—¶ï¼Œè¿›è¡Œåˆå§‹åŒ–å·¥ä½œã€‚&lt;/p&gt;

&lt;p&gt;CompilerThread0&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;ç”¨æ¥è°ƒç”¨JITingï¼Œå®æ—¶ç¼–è¯‘è£…å¸class ã€‚ é€šå¸¸ï¼Œjvmä¼šå¯åŠ¨å¤šä¸ªçº¿ç¨‹æ¥å¤„ç†è¿™éƒ¨åˆ†å·¥ä½œï¼Œçº¿ç¨‹åç§°åé¢çš„æ•°å­—ä¹Ÿä¼šç´¯åŠ ï¼Œä¾‹å¦‚ï¼šCompilerThread1&lt;/p&gt;

&lt;p&gt;Concurrent Mark-Sweep GC Thread&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;å¹¶å‘æ ‡è®°æ¸…é™¤åƒåœ¾å›æ”¶å™¨ï¼ˆå°±æ˜¯é€šå¸¸æ‰€è¯´çš„CMS GCï¼‰çº¿ç¨‹ï¼Œ è¯¥çº¿ç¨‹ä¸»è¦é’ˆå¯¹äºè€å¹´ä»£åƒåœ¾å›æ”¶ã€‚psï¼šå¯ç”¨è¯¥åƒåœ¾å›æ”¶å™¨ï¼Œéœ€è¦åœ¨jvmå¯åŠ¨å‚æ•°ä¸­åŠ ä¸Šï¼š -XX:+UseConcMarkSweepGC&lt;/p&gt;

&lt;p&gt;DestroyJavaVM&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;æ‰§è¡Œmain()çš„çº¿ç¨‹åœ¨mainæ‰§è¡Œå®Œåè°ƒç”¨JNIä¸­çš„ jni_DestroyJavaVM() æ–¹æ³•å”¤èµ·DestroyJavaVM çº¿ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;JVMåœ¨ Jboss æœåŠ¡å™¨å¯åŠ¨ä¹‹åï¼Œå°±ä¼šå”¤èµ·DestroyJavaVMçº¿ç¨‹ï¼Œå¤„äºç­‰å¾…çŠ¶æ€ï¼Œç­‰å¾…å…¶å®ƒçº¿ç¨‹ï¼ˆjavaçº¿ç¨‹å’Œnativeçº¿ç¨‹ï¼‰é€€å‡ºæ—¶é€šçŸ¥å®ƒå¸è½½JVMã€‚çº¿ç¨‹é€€å‡ºæ—¶ï¼Œéƒ½ä¼šåˆ¤æ–­è‡ªå·±å½“å‰æ˜¯å¦æ˜¯æ•´ä¸ªJVMä¸­æœ€åä¸€ä¸ªédeamonçº¿ç¨‹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™é€šçŸ¥DestroyJavaVM çº¿ç¨‹å¸è½½JVMã€‚&lt;/p&gt;

&lt;p&gt;psï¼š&lt;/p&gt;

&lt;p&gt;æ‰©å±•ä¸€ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;1.å¦‚æœçº¿ç¨‹é€€å‡ºæ—¶åˆ¤æ–­è‡ªå·±ä¸ä¸ºæœ€åä¸€ä¸ªédeamonçº¿ç¨‹ï¼Œé‚£ä¹ˆè°ƒç”¨thread-&amp;gt;exit(false) ï¼Œå¹¶åœ¨å…¶ä¸­æŠ›å‡ºthread_endäº‹ä»¶ï¼Œjvmä¸é€€å‡ºã€‚&lt;/p&gt;

&lt;p&gt;2.å¦‚æœçº¿ç¨‹é€€å‡ºæ—¶åˆ¤æ–­è‡ªå·±ä¸ºæœ€åä¸€ä¸ªédeamonçº¿ç¨‹ï¼Œé‚£ä¹ˆè°ƒç”¨before_exit() æ–¹æ³•ï¼ŒæŠ›å‡ºä¸¤ä¸ªäº‹ä»¶ï¼š&lt;/p&gt;

&lt;p&gt;äº‹ä»¶1ï¼šthread_end çº¿ç¨‹ç»“æŸäº‹ä»¶ï¼›&lt;/p&gt;

&lt;p&gt;äº‹ä»¶2ï¼šVMçš„deathäº‹ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åè°ƒç”¨thread-&amp;gt;exit(true) æ–¹æ³•ï¼Œæ¥ä¸‹æ¥æŠŠçº¿ç¨‹ä»active listå¸ä¸‹ï¼Œåˆ é™¤çº¿ç¨‹ç­‰ç­‰ä¸€ç³»åˆ—å·¥ä½œæ‰§è¡Œå®Œæˆåï¼Œåˆ™é€šçŸ¥æ­£åœ¨ç­‰å¾…çš„DestroyJavaVM çº¿ç¨‹æ‰§è¡Œå¸è½½JVMæ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;ContainerBackgroundProcessor çº¿ç¨‹&lt;/p&gt;

&lt;p&gt;JBOSS&lt;/p&gt;

&lt;p&gt;å®ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹, åœ¨jbossæœåŠ¡å™¨åœ¨å¯åŠ¨çš„æ—¶å€™å°±åˆå§‹åŒ–äº†,ä¸»è¦å·¥ä½œæ˜¯å®šæœŸå»æ£€æŸ¥æœ‰æ²¡æœ‰Sessionè¿‡æœŸ.è¿‡æœŸåˆ™æ¸…é™¤.&lt;/p&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://liudeh-009.iteye.com/blog/1584876&#34;&gt;http://liudeh-009.iteye.com/blog/1584876&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Dispatcher-Thread-3  çº¿ç¨‹&lt;/p&gt;

&lt;p&gt;Log4j&lt;/p&gt;

&lt;p&gt;Log4jå…·æœ‰å¼‚æ­¥æ‰“å°æ—¥å¿—çš„åŠŸèƒ½ï¼Œéœ€è¦å¼‚æ­¥æ‰“å°æ—¥å¿—çš„Appenderéƒ½éœ€è¦æ³¨å†Œåˆ° AsyncAppenderå¯¹è±¡é‡Œé¢å»ï¼Œç”±AsyncAppenderè¿›è¡Œç›‘å¬ï¼Œå†³å®šä½•æ—¶è§¦å‘æ—¥å¿—æ‰“å°æ“ä½œã€‚ AsyncAppenderå¦‚æœç›‘å¬åˆ°å®ƒç®¡è¾–èŒƒå›´å†…çš„Appenderæœ‰æ‰“å°æ—¥å¿—çš„æ“ä½œï¼Œåˆ™ç»™è¿™ä¸ªAppenderç”Ÿæˆä¸€ä¸ªç›¸åº”çš„eventï¼Œå¹¶å°†è¯¥eventä¿å­˜åœ¨ä¸€ä¸ªbuffueråŒºåŸŸå†…ã€‚&lt;/p&gt;

&lt;p&gt;Dispatcher-Thread-3çº¿ç¨‹è´Ÿè´£åˆ¤æ–­è¿™ä¸ªeventç¼“å­˜åŒºæ˜¯å¦å·²ç»æ»¡äº†ï¼Œå¦‚æœå·²ç»æ»¡äº†ï¼Œåˆ™å°†ç¼“å­˜åŒºå†…çš„æ‰€æœ‰eventåˆ†å‘åˆ°Appenderå®¹å™¨é‡Œé¢å»ï¼Œé‚£äº›æ³¨å†Œä¸Šæ¥çš„Appenderæ”¶åˆ°è‡ªå·±çš„eventåï¼Œåˆ™å¼€å§‹å¤„ç†è‡ªå·±çš„æ—¥å¿—æ‰“å°å·¥ä½œã€‚ Dispatcher-Thread-3çº¿ç¨‹æ˜¯ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;Finalizerçº¿ç¨‹&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªçº¿ç¨‹ä¹Ÿæ˜¯åœ¨mainçº¿ç¨‹ä¹‹ååˆ›å»ºçš„ï¼Œå…¶ä¼˜å…ˆçº§ä¸º10ï¼Œä¸»è¦ç”¨äºåœ¨åƒåœ¾æ”¶é›†å‰ï¼Œè°ƒç”¨å¯¹è±¡çš„finalize()æ–¹æ³•ï¼›å…³äºFinalizerçº¿ç¨‹çš„å‡ ç‚¹ï¼š&lt;/p&gt;

&lt;p&gt;1) åªæœ‰å½“å¼€å§‹ä¸€è½®åƒåœ¾æ”¶é›†æ—¶ï¼Œæ‰ä¼šå¼€å§‹è°ƒç”¨finalize()æ–¹æ³•ï¼›å› æ­¤å¹¶ä¸æ˜¯æ‰€æœ‰å¯¹è±¡çš„finalize()æ–¹æ³•éƒ½ä¼šè¢«æ‰§è¡Œï¼›&lt;/p&gt;

&lt;p&gt;2) è¯¥çº¿ç¨‹ä¹Ÿæ˜¯daemonçº¿ç¨‹ï¼Œå› æ­¤å¦‚æœè™šæ‹Ÿæœºä¸­æ²¡æœ‰å…¶ä»–édaemonçº¿ç¨‹ï¼Œä¸ç®¡è¯¥çº¿ç¨‹æœ‰æ²¡æœ‰æ‰§è¡Œå®Œfinalize()æ–¹æ³•ï¼ŒJVMä¹Ÿä¼šé€€å‡ºï¼›&lt;/p&gt;

&lt;p&gt;3) JVMåœ¨åƒåœ¾æ”¶é›†æ—¶ä¼šå°†å¤±å»å¼•ç”¨çš„å¯¹è±¡åŒ…è£…æˆFinalizerå¯¹è±¡ï¼ˆReferenceçš„å®ç°ï¼‰ï¼Œå¹¶æ”¾å…¥ReferenceQueueï¼Œç”±Finalizerçº¿ç¨‹æ¥å¤„ç†ï¼›æœ€åå°†è¯¥Finalizerå¯¹è±¡çš„å¼•ç”¨ç½®ä¸ºnullï¼Œç”±åƒåœ¾æ”¶é›†å™¨æ¥å›æ”¶ï¼›&lt;/p&gt;

&lt;p&gt;4) JVMä¸ºä»€ä¹ˆè¦å•ç‹¬ç”¨ä¸€ä¸ªçº¿ç¨‹æ¥æ‰§è¡Œfinalize()æ–¹æ³•å‘¢ï¼Ÿå¦‚æœJVMçš„åƒåœ¾æ”¶é›†çº¿ç¨‹è‡ªå·±æ¥åšï¼Œå¾ˆæœ‰å¯èƒ½ç”±äºåœ¨finalize()æ–¹æ³•ä¸­è¯¯æ“ä½œå¯¼è‡´GCçº¿ç¨‹åœæ­¢æˆ–ä¸å¯æ§ï¼Œè¿™å¯¹GCçº¿ç¨‹æ¥è¯´æ˜¯ä¸€ç§ç¾éš¾ï¼›&lt;/p&gt;

&lt;p&gt;Gang worker#0&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;JVM ç”¨äºåšæ–°ç”Ÿä»£åƒåœ¾å›æ”¶ï¼ˆmonir gcï¼‰çš„ä¸€ä¸ªçº¿ç¨‹ã€‚#å·åé¢æ˜¯çº¿ç¨‹ç¼–å·ï¼Œä¾‹å¦‚ï¼šGang worker#1&lt;/p&gt;

&lt;p&gt;GC Daemon&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;GC Daemon çº¿ç¨‹æ˜¯JVMä¸ºRMIæä¾›è¿œç¨‹åˆ†å¸ƒå¼GCä½¿ç”¨çš„ï¼ŒGC Daemonçº¿ç¨‹é‡Œé¢ä¼šä¸»åŠ¨è°ƒç”¨System.gc()æ–¹æ³•ï¼Œå¯¹æœåŠ¡å™¨è¿›è¡ŒFull GCã€‚ å…¶åˆè¡·æ˜¯å½“ RMI æœåŠ¡å™¨è¿”å›ä¸€ä¸ªå¯¹è±¡åˆ°å…¶å®¢æˆ·æœºï¼ˆè¿œç¨‹æ–¹æ³•çš„è°ƒç”¨æ–¹ï¼‰æ—¶ï¼Œå…¶è·Ÿè¸ªè¿œç¨‹å¯¹è±¡åœ¨å®¢æˆ·æœºä¸­çš„ä½¿ç”¨ã€‚å½“å†æ²¡æœ‰æ›´å¤šçš„å¯¹å®¢æˆ·æœºä¸Šè¿œç¨‹å¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œæˆ–è€…å¦‚æœå¼•ç”¨çš„â€œç§Ÿå€Ÿâ€è¿‡æœŸå¹¶ä¸”æ²¡æœ‰æ›´æ–°ï¼ŒæœåŠ¡å™¨å°†åƒåœ¾å›æ”¶è¿œç¨‹å¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡ï¼Œæˆ‘ä»¬ç°åœ¨jvmå¯åŠ¨å‚æ•°éƒ½åŠ ä¸Šäº†-XX:+DisableExplicitGCé…ç½®ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªçº¿ç¨‹åªæœ‰æ‰“é…±æ²¹çš„ä»½äº†ã€‚&lt;/p&gt;

&lt;p&gt;IdleRemover&lt;/p&gt;

&lt;p&gt;JBOSS&lt;/p&gt;

&lt;p&gt;Jbossè¿æ¥æ± æœ‰ä¸€ä¸ªæœ€å°å€¼ï¼Œ è¯¥çº¿ç¨‹æ¯è¿‡ä¸€æ®µæ—¶é—´éƒ½ä¼šè¢«Jbosså”¤èµ·ï¼Œç”¨äºæ£€æŸ¥å’Œé”€æ¯è¿æ¥æ± ä¸­ç©ºé—²å’Œæ— æ•ˆçš„è¿æ¥ï¼Œç›´åˆ°å‰©ä½™çš„è¿æ¥æ•°å°äºç­‰äºå®ƒçš„æœ€å°å€¼ã€‚&lt;/p&gt;

&lt;p&gt;Java2D Disposer&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªçº¿ç¨‹ä¸»è¦æœåŠ¡äºawtçš„å„ä¸ªç»„ä»¶ã€‚ è¯´èµ·è¯¥çº¿ç¨‹çš„ä¸»è¦å·¥ä½œèŒè´£å‰ï¼Œéœ€è¦å…ˆä»‹ç»ä¸€ä¸‹Disposerç±»æ˜¯å¹²å˜›çš„ã€‚ Disposeræä¾›ä¸€ä¸ªaddRecordæ–¹æ³•ã€‚ å¦‚æœä½ æƒ³åœ¨ä¸€ä¸ªå¯¹è±¡è¢«é”€æ¯å‰å†åšä¸€äº›å–„åå·¥ä½œï¼Œé‚£ä¹ˆï¼Œä½ å¯ä»¥è°ƒç”¨Disposer#addRecordæ–¹æ³•ï¼Œå°†è¿™ä¸ªå¯¹è±¡å’Œä¸€ä¸ªè‡ªå®šä¹‰çš„DisposerRecordæ¥å£å®ç°ç±»ï¼Œä¸€èµ·ä¼ å…¥è¿›å»ï¼Œè¿›è¡Œæ³¨å†Œã€‚&lt;/p&gt;

&lt;p&gt;Disposerç±»ä¼šå”¤èµ·â€œJava2D Disposerâ€çº¿ç¨‹ï¼Œè¯¥çº¿ç¨‹ä¼šæ‰«æå·²æ³¨å†Œçš„è¿™äº›å¯¹è±¡æ˜¯å¦è¦è¢«å›æ”¶äº†ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è°ƒç”¨è¯¥å¯¹è±¡å¯¹åº”çš„DisposerRecordå®ç°ç±»é‡Œé¢çš„disposeæ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;Disposerå®é™…ä¸Šä¸é™äºåœ¨awtåº”ç”¨åœºæ™¯ï¼Œåªæ˜¯awté‡Œé¢çš„å¾ˆå¤šç»„ä»¶éœ€è¦è®¿é—®å¾ˆå¤šæ“ä½œç³»ç»Ÿèµ„æºï¼Œæ‰€ä»¥ï¼Œè¿™äº›ç»„ä»¶åœ¨è¢«å›æ”¶æ—¶ï¼Œéœ€è¦å…ˆé‡Šæ”¾è¿™äº›èµ„æºã€‚&lt;/p&gt;

&lt;p&gt;InsttoolCacheScheduler_QuartzSchedulerThread&lt;/p&gt;

&lt;p&gt;Quartz&lt;/p&gt;

&lt;p&gt;InsttoolCacheScheduler_QuartzSchedulerThreadæ˜¯Quartzçš„ä¸»çº¿ç¨‹ï¼Œå®ƒä¸»è¦è´Ÿè´£å®æ—¶çš„è·å–ä¸‹ä¸€ä¸ªæ—¶é—´ç‚¹è¦è§¦å‘çš„è§¦å‘å™¨ï¼Œç„¶åæ‰§è¡Œè§¦å‘å™¨ç›¸å…³è”çš„ä½œä¸š ã€‚&lt;/p&gt;

&lt;p&gt;åŸç†å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;Springå’ŒQuartzç»“åˆä½¿ç”¨çš„åœºæ™¯ä¸‹ï¼ŒSpring IOCå®¹å™¨åˆå§‹åŒ–æ—¶ä¼šåˆ›å»ºå¹¶åˆå§‹åŒ–Quartzçº¿ç¨‹æ± ï¼ˆTreadPoolï¼‰ï¼Œå¹¶å¯åŠ¨å®ƒã€‚åˆšå¯åŠ¨æ—¶çº¿ç¨‹æ± ä¸­æ¯ä¸ªçº¿ç¨‹éƒ½å¤„äºç­‰å¾…çŠ¶æ€ï¼Œç­‰å¾…å¤–ç•Œç»™ä»–åˆ†é…Runnableï¼ˆæŒæœ‰ä½œä¸šå¯¹è±¡çš„çº¿ç¨‹ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç»§è€Œæ¥ç€åˆå§‹åŒ–å¹¶å¯åŠ¨Quartzçš„ä¸»çº¿ç¨‹&lt;/p&gt;

&lt;p&gt;ï¼ˆInsttoolCacheScheduler_QuartzSchedulerThreadï¼‰ï¼Œè¯¥çº¿ç¨‹è‡ªå¯åŠ¨åå°±ä¼šå¤„äºç­‰å¾…çŠ¶æ€ã€‚ç­‰å¾…å¤–ç•Œç»™å‡ºå·¥ä½œä¿¡å·ä¹‹åï¼Œè¯¥ä¸»çº¿ç¨‹çš„runæ–¹æ³•æ‰å®è´¨ä¸Šå¼€å§‹å·¥ä½œã€‚runä¸­ä¼šè·å–JobStoreä¸­ä¸‹ä¸€æ¬¡è¦è§¦å‘çš„ä½œä¸šï¼Œæ‹¿åˆ°ä¹‹åä¼šä¸€ç›´ç­‰å¾…åˆ°è¯¥ä½œä¸šçš„çœŸæ­£è§¦å‘æ—¶é—´ï¼Œç„¶åå°†è¯¥ä½œä¸šåŒ…è£…æˆä¸€ä¸ªJobRunShellå¯¹è±¡ï¼ˆè¯¥å¯¹è±¡å®ç°äº†Runnableæ¥å£ï¼Œå…¶å®çœ‹æ˜¯ä¸Šé¢TreadPoolä¸­ç­‰å¾…å¤–ç•Œåˆ†é…ç»™ä»–çš„Runnableï¼‰ï¼Œç„¶åå°†åˆšåˆ›å»ºçš„JobRunShelläº¤ç»™çº¿ç¨‹æ± ï¼Œç”±çº¿ç¨‹æ± è´Ÿè´£æ‰§è¡Œä½œä¸šã€‚&lt;/p&gt;

&lt;p&gt;çº¿ç¨‹æ± æ”¶åˆ°Runnableåï¼Œä»çº¿ç¨‹æ± ä¸€ä¸ªçº¿ç¨‹å¯åŠ¨Runnableï¼Œåå°„è°ƒç”¨JobRunShellä¸­çš„runæ–¹æ³•ï¼Œrunæ–¹æ³•æ‰§è¡Œå®Œæˆä¹‹åï¼Œ TreadPoolå°†è¯¥çº¿ç¨‹å›æ”¶è‡³ç©ºé—²çº¿ç¨‹ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;InsttoolCacheScheduler_Worker-2&lt;/p&gt;

&lt;p&gt;Quartz&lt;/p&gt;

&lt;p&gt;InsttoolCacheScheduler_Worker-2çº¿ç¨‹å°±æ˜¯ThreadPoolçº¿ç¨‹çš„ä¸€ä¸ªç®€å•å®ç°ï¼Œå®ƒä¸»è¦è´Ÿè´£åˆ†é…çº¿ç¨‹èµ„æºå»æ‰§è¡Œ&lt;/p&gt;

&lt;p&gt;InsttoolCacheScheduler_QuartzSchedulerThreadçº¿ç¨‹äº¤ç»™å®ƒçš„è°ƒåº¦ä»»åŠ¡ï¼ˆä¹Ÿå°±æ˜¯JobRunShellï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;JBossLifeThread&lt;/p&gt;

&lt;p&gt;Jboss&lt;/p&gt;

&lt;p&gt;Jbossä¸»çº¿ç¨‹å¯åŠ¨æˆåŠŸï¼Œåº”ç”¨ç¨‹åºéƒ¨ç½²å®Œæ¯•ä¹‹åå°†JBossLifeThreadçº¿ç¨‹å®ä¾‹åŒ–å¹¶ä¸”startï¼ŒJBossLifeThreadçº¿ç¨‹å¯åŠ¨æˆåŠŸä¹‹åå°±å¤„äºç­‰å¾…çŠ¶æ€ï¼Œä»¥ä¿æŒJboss Javaè¿›ç¨‹å¤„äºå­˜æ´»ä¸­ã€‚  æ‰€å¾—æ¯”è¾ƒé€šä¿—ä¸€ç‚¹ï¼Œå°±æ˜¯Jbosså¯åŠ¨æµç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ç»“æŸï¼Ÿ å°±æ˜¯å› ä¸ºæœ‰è¿™ä¸ªçº¿ç¨‹holdä¸»äº†å®ƒã€‚&lt;/p&gt;

&lt;p&gt;JBoss System Threads(1)-1&lt;/p&gt;

&lt;p&gt;Jboss&lt;/p&gt;

&lt;p&gt;è¯¥çº¿ç¨‹æ˜¯ä¸€ä¸ªsocketæœåŠ¡ï¼Œé»˜è®¤ç«¯å£å·ä¸ºï¼š 1099ã€‚&lt;/p&gt;

&lt;p&gt;ä¸»è¦ç”¨äºæ¥æ”¶å¤–éƒ¨naming serviceï¼ˆJboss  JNDIï¼‰è¯·æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;JCA PoolFiller&lt;/p&gt;

&lt;p&gt;Jboss&lt;/p&gt;

&lt;p&gt;è¯¥çº¿ç¨‹ä¸»è¦ä¸ºJBosså†…éƒ¨æä¾›è¿æ¥æ± çš„æ‰˜ç®¡ã€‚&lt;/p&gt;

&lt;p&gt;ç®€å•ä»‹ç»ä¸€ä¸‹å·¥ä½œåŸç† ï¼š&lt;/p&gt;

&lt;p&gt;Jbosså†…éƒ¨å‡¡æ˜¯æœ‰è¿œç¨‹è¿æ¥éœ€æ±‚çš„ç±»ï¼Œéƒ½éœ€è¦å®ç°&lt;/p&gt;

&lt;p&gt;ManagedConnectionFactoryæ¥å£ï¼Œä¾‹å¦‚éœ€è¦åšJDBCè¿æ¥çš„&lt;/p&gt;

&lt;p&gt;XAManagedConnectionFactoryå¯¹è±¡ï¼Œå°±å®ç°äº†è¯¥æ¥å£ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åå°†XAManagedConnectionFactoryå¯¹è±¡ï¼Œ&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰å…¶å®ƒä¿¡æ¯ä¸€èµ·åŒ…è£…åˆ°&lt;/p&gt;

&lt;p&gt;InternalManagedConnectionPool&lt;/p&gt;

&lt;p&gt;å¯¹è±¡é‡Œé¢ï¼Œæ¥ç€å°†&lt;/p&gt;

&lt;p&gt;InternalManagedConnectionPool&lt;/p&gt;

&lt;p&gt;äº¤ç»™PoolFillerå¯¹è±¡é‡Œé¢çš„åˆ—é˜Ÿè¿›è¡Œç®¡ç†ã€‚&lt;/p&gt;

&lt;p&gt;JCA PoolFillerçº¿ç¨‹ä¼šå®šæœŸåˆ¤æ–­åˆ—é˜Ÿå†…æ˜¯å¦æœ‰éœ€è¦åˆ›å»ºå’Œç®¡ç†çš„&lt;/p&gt;

&lt;p&gt;InternalManagedConnectionPool&lt;/p&gt;

&lt;p&gt;å¯¹è±¡ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œåˆ™è°ƒç”¨è¯¥å¯¹è±¡çš„fillToMinæ–¹æ³•ï¼Œ è§¦å‘å®ƒå»åˆ›å»ºç›¸åº”çš„è¿œç¨‹è¿æ¥ï¼Œå¹¶ä¸”å°†è¿™ä¸ªè¿æ¥ç»´æŠ¤åˆ°å®ƒç›¸åº”çš„è¿æ¥æ± é‡Œé¢å»ã€‚&lt;/p&gt;

&lt;p&gt;JDWP Event Helper Thread&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;JDWPæ˜¯é€šè®¯äº¤äº’åè®®ï¼Œå®ƒå®šä¹‰äº†è°ƒè¯•å™¨å’Œè¢«è°ƒè¯•ç¨‹åºä¹‹é—´ä¼ é€’ä¿¡æ¯çš„æ ¼å¼ã€‚å®ƒè¯¦ç»†å®Œæ•´åœ°å®šä¹‰äº†è¯·æ±‚å‘½ä»¤ã€å›åº”æ•°æ®å’Œé”™è¯¯ä»£ç ï¼Œä¿è¯äº†å‰ç«¯å’Œåç«¯çš„JVMTIå’ŒJDIçš„é€šä¿¡é€šç•…ã€‚  è¯¥çº¿ç¨‹ä¸»è¦è´Ÿè´£å°†JDIäº‹ä»¶æ˜ å°„æˆJVMTIä¿¡å·ï¼Œä»¥è¾¾åˆ°è°ƒè¯•è¿‡ç¨‹ä¸­æ“ä½œJVMçš„ç›®çš„ã€‚&lt;/p&gt;

&lt;p&gt;JDWP Transport Listener:&lt;/p&gt;

&lt;p&gt;dt_socket&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¯¥çº¿ç¨‹æ˜¯ä¸€ä¸ªJava Debuggerçš„ç›‘å¬å™¨çº¿ç¨‹ï¼Œè´Ÿè´£å—ç†å®¢æˆ·ç«¯çš„debugè¯·æ±‚ã€‚ é€šå¸¸æˆ‘ä»¬ä¹ æƒ¯å°†å®ƒçš„ç›‘å¬ç«¯å£è®¾ç½®ä¸º8787ã€‚&lt;/p&gt;

&lt;p&gt;Low Memory Detector&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªçº¿ç¨‹æ˜¯è´Ÿè´£å¯¹å¯ä½¿ç”¨å†…å­˜è¿›è¡Œæ£€æµ‹ï¼Œå¦‚æœå‘ç°å¯ç”¨å†…å­˜ä½ï¼Œåˆ†é…æ–°çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;

&lt;p&gt;process reaper&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¯¥çº¿ç¨‹è´Ÿè´£å»æ‰§è¡Œä¸€ä¸ª OS å‘½ä»¤è¡Œçš„æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;Reference Handler&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;JVMåœ¨åˆ›å»ºmainçº¿ç¨‹åå°±åˆ›å»ºReference Handlerçº¿ç¨‹ï¼Œå…¶ä¼˜å…ˆçº§æœ€é«˜ï¼Œä¸º10ï¼Œå®ƒä¸»è¦ç”¨äºå¤„ç†å¼•ç”¨å¯¹è±¡æœ¬èº«ï¼ˆè½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨ï¼‰çš„åƒåœ¾å›æ”¶é—®é¢˜ ã€‚&lt;/p&gt;

&lt;p&gt;Surrogate Locker Thread (CMS)&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªçº¿ç¨‹ä¸»è¦ç”¨äºé…åˆCMSåƒåœ¾å›æ”¶å™¨ä½¿ç”¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ï¼Œå…¶ä¸»è¦è´Ÿè´£å¤„ç†GCè¿‡ç¨‹ä¸­ï¼ŒJavaå±‚çš„Referenceï¼ˆæŒ‡è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ç­‰ç­‰ï¼‰ä¸jvm å†…éƒ¨å±‚é¢çš„å¯¹è±¡çŠ¶æ€åŒæ­¥ã€‚ è¿™é‡Œå¯¹å®ƒä»¬çš„å®ç°ç¨å¾®åšä¸€ä¸‹ä»‹ç»ï¼šè¿™é‡Œæ‹¿ WeakHashMapåšä¾‹å­ï¼Œå°†ä¸€äº›å…³é”®ç‚¹å…ˆåˆ—å‡ºæ¥ï¼ˆæˆ‘ä»¬åé¢ä¼šå°†è¿™äº›å…³é”®ç‚¹å…¨éƒ¨ä¸²èµ·æ¥ï¼‰ï¼š&lt;/p&gt;

&lt;p&gt;1.æˆ‘ä»¬çŸ¥é“HashMapç”¨Entry[]æ•°ç»„æ¥å­˜å‚¨æ•°æ®çš„ï¼ŒWeakHashMapä¹Ÿä¸ä¾‹å¤–, å†…éƒ¨æœ‰ä¸€ä¸ªEntry[]æ•°ç»„ã€‚&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;WeakHashMapçš„Entryæ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒçš„ç»§æ‰¿ä½“ç³»ç»“æ„ä¸º&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Entry-&amp;gt;WeakReference-&amp;gt;Reference ã€‚&lt;/p&gt;

&lt;p&gt;3.Reference é‡Œé¢æœ‰ä¸€ä¸ªå…¨å±€é”å¯¹è±¡ï¼šLockï¼Œ&lt;/p&gt;

&lt;p&gt;å®ƒä¹Ÿè¢«ç§°ä¸ºpending_lock.æ³¨æ„ï¼šå®ƒæ˜¯é™æ€å¯¹è±¡ã€‚&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Reference  é‡Œé¢æœ‰ä¸€ä¸ªé™æ€å˜é‡ï¼špendingã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Referenceé‡Œé¢æœ‰ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼šReferenceHandlerçš„çº¿ç¨‹ï¼Œå®ƒåœ¨staticå—é‡Œé¢è¢«åˆå§‹åŒ–å¹¶ä¸”å¯åŠ¨ï¼Œå¯åŠ¨å®Œæˆåå¤„äºwaitçŠ¶æ€ï¼Œå®ƒåœ¨ä¸€ä¸ªLockåŒæ­¥é”æ¨¡å—ä¸­ç­‰å¾…ã€‚&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;6.å¦å¤–ï¼ŒWeakHashMapé‡Œé¢è¿˜å®ä¾‹åŒ–äº†ä¸€ä¸ªReferenceQueueåˆ—é˜Ÿï¼Œè¿™ä¸ªåˆ—é˜Ÿçš„ä½œç”¨ï¼Œåé¢ä¼šæåˆ°ã€‚&lt;/p&gt;

&lt;p&gt;7.ä¸Šé¢å…³é”®ç‚¹å°±ä»‹ç»å®Œæ¯•äº†ï¼Œä¸‹é¢æˆ‘ä»¬æŠŠä»–ä»¬ä¸²èµ·æ¥ã€‚&lt;/p&gt;

&lt;p&gt;å‡è®¾ï¼ŒWeakHashMapå¯¹è±¡é‡Œé¢å·²ç»ä¿å­˜äº†å¾ˆå¤šå¯¹è±¡çš„å¼•ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;JVM åœ¨è¿›è¡ŒCMS GCçš„æ—¶å€™ï¼Œä¼šåˆ›å»ºä¸€ä¸ªConcurrentMarkSweepThreadï¼ˆç®€ç§°CMSTï¼‰çº¿ç¨‹å»è¿›è¡ŒGCï¼ŒConcurrentMarkSweepThreadçº¿ç¨‹è¢«åˆ›å»ºçš„åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ªSurrogateLockerThreadï¼ˆç®€ç§°SLTï¼‰çº¿ç¨‹å¹¶ä¸”å¯åŠ¨å®ƒï¼ŒSLTå¯åŠ¨ä¹‹åï¼Œå¤„äºç­‰å¾…é˜¶æ®µã€‚CMSTå¼€å§‹GCæ—¶ï¼Œä¼šå‘ä¸€ä¸ªæ¶ˆæ¯ç»™SLTè®©å®ƒå»è·å–Javaå±‚Referenceå¯¹è±¡çš„å…¨å±€é”ï¼šLockã€‚ ç›´åˆ°CMS GCå®Œæ¯•ä¹‹åï¼ŒJVM ä¼šå°†WeakHashMapä¸­æ‰€æœ‰è¢«å›æ”¶çš„å¯¹è±¡æ‰€å±çš„WeakReferenceå®¹å™¨å¯¹è±¡æ”¾å…¥åˆ°Reference çš„pendingå±æ€§å½“ä¸­ï¼ˆæ¯æ¬¡GCå®Œæ¯•ä¹‹åï¼Œpendingå±æ€§åŸºæœ¬ä¸Šéƒ½ä¸ä¼šä¸ºnulläº†ï¼‰ï¼Œç„¶åé€šçŸ¥SLTé‡Šæ”¾å¹¶ä¸”notifyå…¨å±€é”:Lockã€‚æ­¤æ—¶æ¿€æ´»äº†ReferenceHandlerçº¿ç¨‹çš„runæ–¹æ³•ï¼Œä½¿å…¶è„±ç¦»waitçŠ¶æ€ï¼Œå¼€å§‹å·¥ä½œäº†ã€‚ReferenceHandlerè¿™ä¸ªçº¿ç¨‹ä¼šå°†pendingä¸­çš„æ‰€æœ‰WeakReferenceå¯¹è±¡éƒ½ç§»åŠ¨åˆ°å®ƒä»¬å„è‡ªçš„åˆ—é˜Ÿå½“ä¸­ï¼Œæ¯”å¦‚å½“å‰è¿™ä¸ªWeakReferenceå±äºæŸä¸ªWeakHashMapå¯¹è±¡ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šè¢«æ”¾å…¥ç›¸åº”çš„ReferenceQueueåˆ—é˜Ÿé‡Œé¢ï¼ˆè¯¥åˆ—é˜Ÿæ˜¯é“¾è¡¨ç»“æ„ï¼‰ã€‚ å½“æˆ‘ä»¬ä¸‹æ¬¡ä»WeakHashMapå¯¹è±¡é‡Œé¢getã€putæ•°æ®æˆ–è€…è°ƒç”¨sizeæ–¹æ³•çš„æ—¶å€™ï¼ŒWeakHashMapå°±ä¼šå°†ReferenceQueueåˆ—é˜Ÿä¸­çš„WeakReferenceä¾ä¾pollå‡ºæ¥å»å’ŒEntry[]æ•°æ®åšæ¯”è¾ƒï¼Œå¦‚æœå‘ç°ç›¸åŒçš„ï¼Œåˆ™è¯´æ˜è¿™ä¸ªEntryæ‰€ä¿å­˜çš„å¯¹è±¡å·²ç»è¢«GCæ‰äº†ï¼Œé‚£ä¹ˆå°†Entry[]å†…çš„Entryå¯¹è±¡å‰”é™¤æ‰ã€‚&lt;/p&gt;

&lt;p&gt;taskObjectTimerFactory&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œè¯¥çº¿ç¨‹å°±æ˜¯ç”¨æ¥æ‰§è¡Œä»»åŠ¡çš„ã€‚ å½“æˆ‘ä»¬æŠŠä¸€ä¸ªè®¤ä¸ºäº¤ç»™Timerå¯¹è±¡ï¼Œå¹¶ä¸”å‘Šè¯‰å®ƒæ‰§è¡Œæ—¶é—´ï¼Œå‘¨æœŸæ—¶é—´åï¼ŒTimerå°±ä¼šå°†è¯¥ä»»åŠ¡æ”¾å…¥ä»»åŠ¡åˆ—é˜Ÿï¼Œå¹¶ä¸”é€šçŸ¥taskObjectTimerFactoryçº¿ç¨‹å»å¤„ç†ä»»åŠ¡ï¼ŒtaskObjectTimerFactoryçº¿ç¨‹ä¼šå°†çŠ¶æ€ä¸ºå–æ¶ˆçš„ä»»åŠ¡ä»ä»»åŠ¡åˆ—é˜Ÿä¸­ç§»é™¤ï¼Œå¦‚æœä»»åŠ¡æ˜¯éé‡å¤æ‰§è¡Œç±»å‹çš„ï¼Œåˆ™åœ¨æ‰§è¡Œå®Œè¯¥ä»»åŠ¡åï¼Œå°†å®ƒä»ä»»åŠ¡åˆ—é˜Ÿä¸­ç§»é™¤ï¼Œå¦‚æœè¯¥ä»»åŠ¡æ˜¯éœ€è¦é‡å¤æ‰§è¡Œçš„ï¼Œåˆ™è®¡ç®—å‡ºå®ƒä¸‹ä¸€æ¬¡æ‰§è¡Œçš„æ—¶é—´ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;VM Periodic Task Thread&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¯¥çº¿ç¨‹æ˜¯JVMå‘¨æœŸæ€§ä»»åŠ¡è°ƒåº¦çš„çº¿ç¨‹ï¼Œå®ƒç”±WatcherThreadåˆ›å»ºï¼Œæ˜¯ä¸€ä¸ªå•ä¾‹å¯¹è±¡ã€‚ è¯¥çº¿ç¨‹åœ¨JVMå†…ä½¿ç”¨å¾—æ¯”è¾ƒé¢‘ç¹ï¼Œæ¯”å¦‚ï¼šå®šæœŸçš„å†…å­˜ç›‘æ§ã€JVMè¿è¡ŒçŠ¶å†µç›‘æ§ï¼Œè¿˜æœ‰æˆ‘ä»¬ç»å¸¸éœ€è¦å»æ‰§è¡Œä¸€äº›jstat è¿™ç±»å‘½ä»¤æŸ¥çœ‹gcçš„æƒ…å†µï¼Œå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;jstat -gcutil 23483 250 7   è¿™ä¸ªå‘½ä»¤å‘Šè¯‰jvmåœ¨æ§åˆ¶å°æ‰“å°PIDä¸ºï¼š23483çš„gcæƒ…å†µï¼Œé—´éš”250æ¯«ç§’æ‰“å°ä¸€æ¬¡ï¼Œä¸€å…±æ‰“å°7æ¬¡ã€‚&lt;/p&gt;

&lt;p&gt;VM Thread&lt;/p&gt;

&lt;p&gt;JVM&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªçº¿ç¨‹å°±æ¯”è¾ƒç‰›bäº†ï¼Œæ˜¯jvmé‡Œé¢çš„çº¿ç¨‹æ¯ä½“ï¼Œæ ¹æ®hotspotæºç ï¼ˆvmThread.hppï¼‰é‡Œé¢çš„æ³¨é‡Šï¼Œå®ƒæ˜¯ä¸€ä¸ªå•ä¾‹çš„å¯¹è±¡ï¼ˆæœ€åŸå§‹çš„çº¿ç¨‹ï¼‰ä¼šäº§ç”Ÿæˆ–è§¦å‘æ‰€æœ‰å…¶ä»–çš„çº¿ç¨‹ï¼Œè¿™ä¸ªå•ä¸ªçš„VMçº¿ç¨‹æ˜¯ä¼šè¢«å…¶ä»–çº¿ç¨‹æ‰€ä½¿ç”¨æ¥åšä¸€äº›VMæ“ä½œï¼ˆå¦‚ï¼Œæ¸…æ‰«åƒåœ¾ç­‰ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ VMThread çš„ç»“æ„ä½“é‡Œæœ‰ä¸€ä¸ªVMOperationQueueåˆ—é˜Ÿï¼Œæ‰€æœ‰çš„VMçº¿ç¨‹æ“ä½œ(vm_operation)éƒ½ä¼šè¢«ä¿å­˜åˆ°è¿™ä¸ªåˆ—é˜Ÿå½“ä¸­ï¼ŒVMThread æœ¬èº«å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œå®ƒçš„çº¿ç¨‹è´Ÿè´£æ‰§è¡Œä¸€ä¸ªè‡ªè½®è¯¢çš„loopå‡½æ•°(å…·ä½“å¯ä»¥å‚è€ƒï¼š&lt;/p&gt;

&lt;p&gt;VMThread.cppé‡Œé¢çš„&lt;/p&gt;

&lt;p&gt;void VMThread::loop()) ï¼Œè¯¥loopå‡½æ•°ä»VMOperationQueueåˆ—é˜Ÿä¸­æŒ‰ç…§ä¼˜å…ˆçº§å–å‡ºå½“å‰éœ€è¦æ‰§è¡Œçš„æ“ä½œå¯¹è±¡(VM_Operation)ï¼Œ&lt;/p&gt;

&lt;p&gt;å¹¶ä¸”è°ƒç”¨VM_Operation-&amp;gt;evaluateå‡½æ•°å»æ‰§è¡Œè¯¥æ“ä½œç±»å‹æœ¬èº«çš„ä¸šåŠ¡é€»è¾‘ã€‚&lt;/p&gt;

&lt;p&gt;psï¼šVMæ“ä½œç±»å‹è¢«å®šä¹‰åœ¨&lt;/p&gt;

&lt;p&gt;vm_operations.hppæ–‡ä»¶å†…ï¼Œåˆ—ä¸¾å‡ ä¸ªï¼šThreadStopã€&lt;/p&gt;

&lt;p&gt;ThreadDumpã€&lt;/p&gt;

&lt;p&gt;PrintThreadsã€&lt;/p&gt;

&lt;p&gt;GenCollectFullã€GenCollectFullConcurrentã€CMS_Initial_Markã€CMS_Final_Remarkâ€¦..&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A Comparison between HTTP1 and HTTP2</title>
      <link>http://danigong.github.io/post/A_Comparison_between_HTTP1_and_HTTP2/</link>
      <pubDate>Tue, 13 Mar 2018 16:17:16 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/A_Comparison_between_HTTP1_and_HTTP2/</guid>
      <description>&lt;p&gt;&lt;strong&gt;&lt;code&gt;HTTP1.1 HTTP 2.0&lt;/code&gt;ä¸»è¦åŒºåˆ«&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¤šè·¯å¤ç”¨&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;HTTP2.0&lt;/code&gt;ä½¿ç”¨äº†å¤šè·¯å¤ç”¨çš„æŠ€æœ¯ï¼Œåšåˆ°åŒä¸€ä¸ªè¿æ¥å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œè€Œä¸”å¹¶å‘è¯·æ±‚çš„æ•°é‡æ¯”&lt;code&gt;HTTP1.1&lt;/code&gt;å¤§äº†å¥½å‡ ä¸ªæ•°é‡çº§ã€‚å½“ç„¶&lt;code&gt;HTTP1.1&lt;/code&gt;ä¹Ÿå¯ä»¥å¤šå»ºç«‹å‡ ä¸ªTCPè¿æ¥ï¼Œæ¥æ”¯æŒå¤„ç†æ›´å¤šå¹¶å‘çš„è¯·æ±‚ï¼Œä½†æ˜¯åˆ›å»ºTCPè¿æ¥æœ¬èº«ä¹Ÿæ˜¯æœ‰å¼€é”€çš„ã€‚TCPè¿æ¥æœ‰ä¸€ä¸ªé¢„çƒ­å’Œä¿æŠ¤çš„è¿‡ç¨‹ï¼Œå…ˆæ£€æŸ¥æ•°æ®æ˜¯å¦ä¼ é€æˆåŠŸï¼Œä¸€æ—¦æˆåŠŸè¿‡ï¼Œåˆ™æ…¢æ…¢åŠ å¤§ä¼ è¾“é€Ÿåº¦ã€‚å› æ­¤å¯¹åº”ç¬æ—¶å¹¶å‘çš„è¿æ¥ï¼ŒæœåŠ¡å™¨çš„å“åº”å°±ä¼šå˜æ…¢ã€‚æ‰€ä»¥æœ€å¥½èƒ½ä½¿ç”¨ä¸€ä¸ªå»ºç«‹å¥½çš„è¿æ¥ï¼Œå¹¶ä¸”è¿™ä¸ªè¿æ¥å¯ä»¥æ”¯æŒç¬æ—¶å¹¶å‘çš„è¯·æ±‚ã€‚
å…³äºå¤šè·¯å¤ç”¨ï¼Œå¯ä»¥å‚çœ‹&lt;a href=&#34;http://blog.csdn.net/linsongbin1/article/details/54865371&#34;&gt;å­¦ä¹ NIO&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;æ•°æ®å‹ç¼©&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;HTTP1.1&lt;/code&gt;ä¸æ”¯æŒheaderæ•°æ®çš„å‹ç¼©ï¼Œ&lt;code&gt;HTTP2.0&lt;/code&gt;ä½¿ç”¨HPACKç®—æ³•å¯¹headerçš„æ•°æ®è¿›è¡Œå‹ç¼©ï¼Œè¿™æ ·æ•°æ®ä½“ç§¯å°äº†ï¼Œåœ¨ç½‘ç»œä¸Šä¼ è¾“å°±ä¼šæ›´å¿«ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;æœåŠ¡å™¨æ¨é€&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ„æ€æ˜¯è¯´ï¼Œå½“æˆ‘ä»¬å¯¹æ”¯æŒ&lt;code&gt;HTTP2.0&lt;/code&gt;çš„web serverè¯·æ±‚æ•°æ®çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨ä¼šé¡ºä¾¿æŠŠä¸€äº›å®¢æˆ·ç«¯éœ€è¦çš„èµ„æºä¸€èµ·æ¨é€åˆ°å®¢æˆ·ç«¯ï¼Œå…å¾—å®¢æˆ·ç«¯å†æ¬¡åˆ›å»ºè¿æ¥å‘é€è¯·æ±‚åˆ°æœåŠ¡å™¨ç«¯è·å–ã€‚è¿™ç§æ–¹å¼éå¸¸åˆé€‚åŠ è½½é™æ€èµ„æºã€‚æœåŠ¡å™¨ç«¯æ¨é€çš„è¿™äº›èµ„æºå…¶å®å­˜åœ¨å®¢æˆ·ç«¯çš„æŸå¤„åœ°æ–¹ï¼Œå®¢æˆ·ç«¯ç›´æ¥ä»æœ¬åœ°åŠ è½½è¿™äº›èµ„æºå°±å¯ä»¥äº†ï¼Œä¸ç”¨èµ°ç½‘ç»œï¼Œé€Ÿåº¦è‡ªç„¶æ˜¯å¿«å¾ˆå¤šçš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Fluent Python Reading Notes</title>
      <link>http://danigong.github.io/fp_reading_notes/</link>
      <pubDate>Mon, 12 Mar 2018 15:29:43 +0800</pubDate>
      
      <guid>http://danigong.github.io/fp_reading_notes/</guid>
      <description>

&lt;h3 id=&#34;1:5f871522afb4c8f73815d5199dd60799&#34;&gt;1&lt;/h3&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;dict()&lt;/code&gt; is slower than &lt;code&gt;{}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;list()&lt;/code&gt; is slower than &lt;code&gt;()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;[x] éœ€è¦ç¬¦å·æŸ¥æ‰¾ï¼ˆä¸èƒ½é¢„å…ˆçŸ¥é“&lt;code&gt;list()&lt;/code&gt;æœ‰æ²¡æœ‰è¢«é‡å®šä¹‰ï¼‰&lt;/li&gt;
&lt;li&gt;[x] æ–¹æ³•è°ƒç”¨&lt;/li&gt;
&lt;li&gt;[x] è¦æ£€æŸ¥æœ‰æ²¡æœ‰å¯è¿­ä»£å˜é‡ä¼ å…¥&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;2:5f871522afb4c8f73815d5199dd60799&#34;&gt;2&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;ç‰¹æ®Šæ–¹æ³•&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;__len__()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__getitem__()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__setitem__()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__iter__()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ˜¯ä¸ºäº†è¢«&lt;code&gt;pythonè§£é‡Šå™¨&lt;/code&gt;è°ƒç”¨çš„ï¼Œè‡ªå·±ä¸ç”¨è°ƒç”¨å®ƒä»¬ï¼Œæ‰€ä»¥æ²¡æœ‰&lt;code&gt;A.__len__()&lt;/code&gt;æ–¹æ³•ï¼Œåªæœ‰&lt;code&gt;len(A)&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;3:5f871522afb4c8f73815d5199dd60799&#34;&gt;3&lt;/h3&gt;

&lt;p&gt;è‡ªå®šä¹‰å¸ƒå°”å€¼ -&amp;gt; å®ç°&lt;code&gt;__bool__&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;4:5f871522afb4c8f73815d5199dd60799&#34;&gt;4&lt;/h3&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;__str__()&lt;/code&gt; : readable, é¢å‘ç”¨æˆ·&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__repr__()&lt;/code&gt; : unambigous, é¢å‘DEV&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;5:5f871522afb4c8f73815d5199dd60799&#34;&gt;5&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;The Zen of Python&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;1. å®ç”¨èƒœäºçº¯ç²¹&lt;/li&gt;
&lt;li&gt;2. ä¸èƒ½è®©ç‰¹ä¾‹ç‰¹æ®Šåˆ°å¼€å§‹ç ´åè§„åˆ™&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;6:5f871522afb4c8f73815d5199dd60799&#34;&gt;6&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å†…ç½®åºåˆ—ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;å®¹å™¨åºåˆ—ï¼šä»»æ„ç±»å‹ï¼Œå¼•ç”¨ - &lt;code&gt;list, tuple, deque&lt;/code&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æ‰å¹³åºåˆ—ï¼šå•ä¸€ç±»å‹ï¼Œå€¼ ï¼ &lt;code&gt;str(3.0), byte(3.0), bytearray, memoryview&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;å¯å˜åºåˆ—(MutableSequence)ï¼š&lt;code&gt;list, deque&lt;/code&gt; &amp;hellip;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä¸å¯å˜åºåˆ—(Sequence)ï¼š&lt;code&gt;tuple, str, byte&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;7:5f871522afb4c8f73815d5199dd60799&#34;&gt;7&lt;/h3&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;list comprehension = listcomps åˆ—è¡¨æ¨å¯¼&lt;/li&gt;
&lt;li&gt;generator expression = genexps ç”Ÿæˆå™¨è¡¨è¾¾å¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;8:5f871522afb4c8f73815d5199dd60799&#34;&gt;8&lt;/h3&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;chr(65)&lt;/code&gt; -&amp;gt; A&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ord(A)&lt;/code&gt; -&amp;gt; 65&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unichr(12345)&lt;/code&gt; -&amp;gt; u&amp;rsquo;\u3039&amp;rsquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;9:5f871522afb4c8f73815d5199dd60799&#34;&gt;9&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;åˆ—è¡¨æ¨å¯¼çš„ä½œç”¨åªæœ‰ä¸€ä¸ªï¼š&lt;/strong&gt; ç”Ÿæˆåˆ—è¡¨&lt;/p&gt;

&lt;h3 id=&#34;10:5f871522afb4c8f73815d5199dd60799&#34;&gt;10&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;genexps&lt;/code&gt;ä¼˜äº&lt;code&gt;listcomps&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;genexps&lt;/code&gt;éµå®ˆäº†è¿­ä»£å™¨åè®®ï¼Œå¯ä»¥é€ä¸ªäº§ç”Ÿå…ƒç´ ï¼Œè€Œä¸æ˜¯å…ˆå»ºç«‹ä¸€ä¸ªå®Œæ•´çš„åˆ—è¡¨ï¼Œé¿å…äº†é¢å¤–çš„å†…å­˜å ç”¨&lt;/p&gt;

&lt;h3 id=&#34;11:5f871522afb4c8f73815d5199dd60799&#34;&gt;11&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å…ƒç»„æ‹†åŒ…&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;a,b = (a,b)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;a,b = b,a&lt;/code&gt; ä¸¤ä¸ªå˜é‡å€¼äº¤æ¢&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;12:5f871522afb4c8f73815d5199dd60799&#34;&gt;12&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;*&lt;/code&gt;æ¥å¤„ç†å‰©ä¸‹çš„å…ƒç´ &lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Python3: &lt;strong&gt;å¹³è¡Œèµ‹å€¼&lt;/strong&gt;: &lt;code&gt;a,b,*rest = range(5)&lt;/code&gt; -&amp;gt; &lt;code&gt;(0,1,[2,3,4])&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;13:5f871522afb4c8f73815d5199dd60799&#34;&gt;13&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;namedtuple&lt;/code&gt;å’Œ&lt;code&gt;tuple&lt;/code&gt;åˆ›å»ºå®ä¾‹æ¶ˆè€—å†…å­˜ä¸€æ ·ï¼Œå› ä¸ºå­—æ®µåéƒ½å­˜åœ¨ç±»é‡Œï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;_fileds&lt;/code&gt;ç±»å±æ€§&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_make(iterable)&lt;/code&gt;ç±»æ–¹æ³•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_asdict()&lt;/code&gt;å®ä¾‹æ–¹æ³•&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;14:5f871522afb4c8f73815d5199dd60799&#34;&gt;14&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;tuple&lt;/code&gt;æ²¡æœ‰&lt;code&gt;__reversed__&lt;/code&gt;æ–¹æ³•ï¼Œä½†å¯ä»¥&lt;code&gt;reversed(my_tuple)&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;15:5f871522afb4c8f73815d5199dd60799&#34;&gt;15&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;åˆ‡ç‰‡èµ‹å€¼&lt;/strong&gt;ï¼šæ”¹å˜&lt;code&gt;list&lt;/code&gt;ä¸­è¿ç»­å¤šä¸ªå€¼&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    l = list(range(10))
    l[2:5] = [20,30]
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;-&amp;gt; &lt;code&gt;l:[0,1,20,30,5,6,7,8,9]&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;16:5f871522afb4c8f73815d5199dd60799&#34;&gt;16&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;__iadd__&lt;/code&gt;æ–¹æ³•ï¼šå°±åœ°åŠ æ³•&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;+&lt;/code&gt; = &lt;code&gt;__iadd__&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;*&lt;/code&gt; = &lt;code&gt;__imul__&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;17:5f871522afb4c8f73815d5199dd60799&#34;&gt;17&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;id(object)&lt;/code&gt; -&amp;gt; return &amp;ldquo;Identity(å†…å­˜åœ°å€)&amp;rdquo; of an object&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;+=&lt;/code&gt; or &lt;code&gt;*=&lt;/code&gt; ç”¨åœ¨&lt;code&gt;list&lt;/code&gt;ä¸Šï¼Œä¸æ”¹å˜id&lt;/li&gt;
&lt;li&gt;&lt;code&gt;+=&lt;/code&gt; or &lt;code&gt;*=&lt;/code&gt; ç”¨åœ¨&lt;code&gt;tuple&lt;/code&gt;ä¸Šï¼Œæ”¹å˜idï¼Œé‡æ–°åˆ›å»ºä¸€ä¸ªobj&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;18:5f871522afb4c8f73815d5199dd60799&#34;&gt;18&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å¦‚æœä¸€ä¸ªæ–¹æ³•å¯¹å¯¹è±¡è¿›è¡Œçš„æ˜¯å°±åœ°æ”¹åŠ¨ï¼Œé‚£å°±åº”è¯¥è¿”å›&lt;code&gt;None&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;19:5f871522afb4c8f73815d5199dd60799&#34;&gt;19&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;list.sort&lt;/code&gt; -&amp;gt; å°±åœ°æ”¹&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sorted()&lt;/code&gt; -&amp;gt; æ–°å»ºä¸€ä¸ªåˆ—è¡¨è¿”å›&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Example:
&lt;code&gt;sorted(fruits, key=len)&lt;/code&gt;
&lt;code&gt;sorted(fruits, key=lower)&lt;/code&gt; &amp;hellip;&lt;/p&gt;

&lt;h3 id=&#34;20:5f871522afb4c8f73815d5199dd60799&#34;&gt;20&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;bisect&lt;/code&gt; äºŒåˆ†æŸ¥æ‰¾&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. &lt;code&gt;bisect(haystack, needle)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;2. &lt;code&gt;insort(seq, item)&lt;/code&gt; -&amp;gt; æ’å…¥åä»ä¿æŒå‡åº&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;21:5f871522afb4c8f73815d5199dd60799&#34;&gt;21&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å­—ç¬¦ä¸²æ ¼å¼åŒ–&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;&#39; &#39;.format(a,b,c)&lt;/code&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;{0}&lt;/code&gt; -&amp;gt; ä½ç½®å‚æ•°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{name}&lt;/code&gt; -&amp;gt; å…³é”®å­—å‚æ•°&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{0[0]}&lt;/code&gt; -&amp;gt; å¯¹&lt;code&gt;list&lt;/code&gt;ä½¿ç”¨ç´¢å¼•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;{0:*(å¡«å……å­—ç¬¦)&amp;gt;(å³å¯¹é½)10(å®½åº¦)}&lt;/code&gt; -&amp;gt; å¡«å……ä¸æ ¼å¼åŒ–&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;22:5f871522afb4c8f73815d5199dd60799&#34;&gt;22&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;array&lt;/code&gt; åœºæ™¯-&amp;gt;1000ä¸‡ä¸ªæµ®ç‚¹æ•°
&lt;code&gt;deque&lt;/code&gt; åœºæ™¯-&amp;gt;éœ€è¦é¢‘ç¹å¯¹åºåˆ—è¿›è¡Œ&lt;code&gt;FIFO&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;23:5f871522afb4c8f73815d5199dd60799&#34;&gt;23&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;memoryview&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;24:5f871522afb4c8f73815d5199dd60799&#34;&gt;24&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;numpy, scipy&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;25:5f871522afb4c8f73815d5199dd60799&#34;&gt;25&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;collections.deque&lt;/code&gt;&lt;/strong&gt;ï¼šçº¿ç¨‹å®‰å…¨ã€å¿«é€Ÿä»ä¸¤ç«¯æ·»åŠ ã€åˆ é™¤å…ƒç´ ã€‚&lt;/p&gt;

&lt;p&gt;*åœºæ™¯*ï¼šå­˜æ”¾æœ€è¿‘ä½¿ç”¨çš„å‡ ä¸ªå…ƒç´ &lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. &lt;code&gt;rotate(3)&lt;/code&gt;ï¼šå³è¾¹ä¸‰ä¸ªåˆ°å·¦è¾¹ã€‚&lt;code&gt;rotate(-4)&lt;/code&gt;ï¼šå·¦è¾¹å››ä¸ªåˆ°å³è¾¹ã€‚&lt;/li&gt;
&lt;li&gt;2. &lt;code&gt;appendleft()&lt;/code&gt;ï¼šå•ä¸ªã€‚&lt;code&gt;extend, extendleft&lt;/code&gt;ï¼š é˜Ÿåˆ—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;26:5f871522afb4c8f73815d5199dd60799&#34;&gt;26&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;æ•£åˆ—è¡¨&lt;/code&gt;&lt;/strong&gt;æ˜¯&lt;code&gt;å­—å…¸&lt;/code&gt;ç±»å‹æ€§èƒ½å‡ºä¼—çš„æ ¹æœ¬åŸå› ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;code&gt;collections.abc.Mapping&lt;/code&gt;çš„instance&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸå­ä¸å¯å˜æ•°æ®ç±»å‹&lt;/strong&gt;ï¼ˆ&lt;code&gt;str, byte&lt;/code&gt;å’Œæ•°å€¼ç±»å‹ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•£åˆ—å€¼&lt;/strong&gt;å°±æ˜¯&lt;code&gt;id()&lt;/code&gt;å‡½æ•°çš„è¿”å›å€¼&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;27:5f871522afb4c8f73815d5199dd60799&#34;&gt;27&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å­—å…¸åˆ›å»ºæ–¹æ³•&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. &lt;code&gt;a = dict(one=1,two=2,three=3)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;2. &lt;code&gt;b = {&#39;one&#39;:1,&#39;two&#39;:2,&#39;three&#39;:3}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;3. &lt;code&gt;c = dict(zip([&#39;one&#39;,&#39;two&#39;,&#39;three&#39;],[1,2,3]))&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;4. å­—å…¸æ¨å¯¼ &lt;code&gt;dictcomp&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;28:5f871522afb4c8f73815d5199dd60799&#34;&gt;28&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;dict.setdefault&lt;/code&gt;&lt;/strong&gt;å¤„ç†ä¸å­˜åœ¨äº&lt;code&gt;dict&lt;/code&gt;ä¸­çš„&lt;code&gt;key&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;29:5f871522afb4c8f73815d5199dd60799&#34;&gt;29&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;collections.defaultdict&lt;/code&gt;&lt;/strong&gt;æ˜¯å¤„ç†æ‰¾ä¸åˆ°&lt;code&gt;key&lt;/code&gt;çš„ä¸€ä¸ªé€‰æ‹©&lt;/p&gt;

&lt;p&gt;&lt;code&gt;dd = defautdict(list)&lt;/code&gt;ï¼Œå¦‚æœ&lt;code&gt;&#39;new-key&#39;&lt;/code&gt;ä¸å­˜åœ¨ï¼Œ&lt;code&gt;dd[&#39;new-key&#39;]&lt;/code&gt;ä¼šæ‰§è¡Œï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. &lt;code&gt;list()&lt;/code&gt;å»ºæ–°åˆ—è¡¨&lt;/li&gt;
&lt;li&gt;2. è¿™ä¸ªæ–°åˆ—è¡¨ä½œä¸º&lt;code&gt;å€¼&lt;/code&gt;ï¼Œ&lt;code&gt;new-key&lt;/code&gt;ä¸º&lt;code&gt;key&lt;/code&gt;ï¼Œæ”¾å…¥&lt;code&gt;dd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;3. è¿”å›è¿™ä¸ªåˆ—è¡¨çš„å¼•ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;30:5f871522afb4c8f73815d5199dd60799&#34;&gt;30&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;__missing__&lt;/code&gt;åªä¼šè¢«&lt;code&gt;__getitem__&lt;/code&gt;è°ƒç”¨&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;31:5f871522afb4c8f73815d5199dd60799&#34;&gt;31&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å¦‚æœè¦è‡ªå®šä¹‰ä¸€ä¸ªæ˜ å°„ç±»å‹ï¼Œåº”è¯¥ç»§æ‰¿&lt;code&gt;collections.UserDict&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;32:5f871522afb4c8f73815d5199dd60799&#34;&gt;32&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å­—å…¸çš„å˜ç§&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. &lt;code&gt;collections.OrderedDict&lt;/code&gt;: &lt;code&gt;popitem&lt;/code&gt;æ–¹æ³• -&amp;gt; åˆ é™¤å¹¶è¿”å›&lt;/li&gt;
&lt;li&gt;2. &lt;code&gt;collections.ChainMap&lt;/code&gt;: å¤šä¸ªå­—å…¸é€ä¸ªæŸ¥æ‰¾&lt;/li&gt;
&lt;li&gt;3. &lt;code&gt;collections.Counter&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;    ct = Counter(&#39;abracadabra&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;-&amp;gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code&gt;    Counter({&#39;a&#39;:5,&#39;b&#39;:2,&#39;r&#39;:2,&#39;c&#39;:1,&#39;d&#39;:1})
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;4. &lt;code&gt;UserDict&lt;/code&gt;ç”¨æˆ·æ¶Œæ¥ç»§æ‰¿å†™å­ç±»&lt;/li&gt;
&lt;li&gt;5. &lt;code&gt;TransformDict&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;33:5f871522afb4c8f73815d5199dd60799&#34;&gt;33&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;ä¸å¯å˜æ˜ å°„ç±»å‹&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;types.MappingProxyType&lt;/code&gt;ï¼š&lt;code&gt;åªè¯»çš„æ˜ å°„è§†å›¾&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;34:5f871522afb4c8f73815d5199dd60799&#34;&gt;34&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;set&lt;/code&gt; -&amp;gt; è®¸å¤šå”¯ä¸€å¯¹è±¡çš„èšé›†ï¼›&lt;code&gt;frozenset&lt;/code&gt; -&amp;gt; ä¸å¯å˜&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;é›†åˆ&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. ç”¨äºå»é‡å¤ï¼š&lt;code&gt;list&lt;/code&gt; -&amp;gt; &lt;code&gt;set&lt;/code&gt; -&amp;gt; &lt;code&gt;list&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;2. åˆé›†ï¼Œäº¤é›†ï¼Œå·®é›† -&amp;gt; åœºæ™¯ï¼šå…ƒç´ å‡ºç°æ¬¡æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;å¦‚æœæ˜¯ç©ºé›†å¿…é¡»å†™æˆ&lt;code&gt;set()&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;35:5f871522afb4c8f73815d5199dd60799&#34;&gt;35&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;æ•£åˆ—è¡¨&lt;/strong&gt;ï¼šç¨€ç–æ•°ç»„ï¼ˆæ€»æœ‰ç©ºç™½å…ƒç´ çš„æ•°ç»„ï¼‰
&lt;code&gt;key:value&lt;/code&gt; -&amp;gt; ä¸€ä¸ª&lt;code&gt;è¡¨å…ƒ&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;å› ä¸ºæ‰€æœ‰è¡¨å…ƒå¤§å°ä¸€è‡´ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡&lt;code&gt;åç§»é‡&lt;/code&gt;æ¥è¯»å–æŸä¸ªè¡¨å…ƒ&lt;/p&gt;

&lt;p&gt;ç”¨&lt;code&gt;hash()&lt;/code&gt;æ¥è®¡ç®—&lt;code&gt;æ•£åˆ—å€¼&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;36:5f871522afb4c8f73815d5199dd60799&#34;&gt;36&lt;/h3&gt;

&lt;p&gt;å­˜æ”¾æ•°é‡å·¨å¤§çš„è®°å½•ç”¨&lt;code&gt;tuple&lt;/code&gt;æˆ–&lt;code&gt;namedtuple&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;dict&lt;/code&gt; æ•£åˆ— -&amp;gt; å†…å­˜æ¶ˆè€—å¤§&lt;/p&gt;

&lt;h3 id=&#34;37:5f871522afb4c8f73815d5199dd60799&#34;&gt;37&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;dict&lt;/code&gt;&lt;/strong&gt;ï¼š&lt;strong&gt;ç©ºé—´&lt;/strong&gt;æ¢&lt;strong&gt;æ—¶é—´&lt;/strong&gt; -&amp;gt; &lt;strong&gt;è¯»å–å¿«&lt;/strong&gt; ä½† &lt;strong&gt;å†…å­˜æ¶ˆè€—å¤§&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Pythonè§£é‡Šå™¨å¯èƒ½ä¸ºå­—å…¸æ‰©å®¹ -&amp;gt; å¯¼è‡´æ–°å»ºä¸€ä¸ªæ›´å¤§çš„æ•£åˆ—è¡¨&lt;/p&gt;

&lt;h3 id=&#34;38:5f871522afb4c8f73815d5199dd60799&#34;&gt;38&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;é›†åˆ &lt;code&gt;set&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. å…ƒç´ å¿…é¡»å¯æ•£åˆ—&lt;/li&gt;
&lt;li&gt;2. å¾ˆè€—å†…å­˜&lt;/li&gt;
&lt;li&gt;3. é«˜æ•ˆæŸ¥æ‰¾&lt;/li&gt;
&lt;li&gt;4. æ¬¡åºå–å†³äºæ·»åŠ æ¬¡åº&lt;/li&gt;
&lt;li&gt;5. æ·»åŠ å…ƒç´ å¯èƒ½æ”¹å˜å·²æœ‰å…ƒç´ æ¬¡åº(*37*ä¸­çš„æ‰©å®¹)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;39:5f871522afb4c8f73815d5199dd60799&#34;&gt;39&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å­—ç¬¦&lt;/strong&gt;çš„æœ€ä½³å®šä¹‰æ˜¯&lt;code&gt;Unicode&lt;/code&gt;å­—ç¬¦&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Python3&lt;/code&gt; ä» &lt;code&gt;str&lt;/code&gt;å¯¹è±¡ä¸­è·å–çš„å…ƒç´ æ˜¯&lt;code&gt;Unicode&lt;/code&gt;å­—ç¬¦&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;&lt;em&gt;å­—ç¬¦çš„å…·ä½“è¡¨è¿°å–å†³äºæ‰€ç”¨çš„ç¼–ç &lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ç¼–ç ï¼šç ä½ -&amp;gt; å­—èŠ‚åºåˆ—&lt;/li&gt;
&lt;li&gt;è§£ç ï¼šå­—èŠ‚åºåˆ— -&amp;gt; ç ä½ï¼ˆå­—ç¬¦çš„æ ‡è¯†ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;40:5f871522afb4c8f73815d5199dd60799&#34;&gt;40&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å­—é¢é‡&lt;/strong&gt;ï¼šåŒçœ¼æ‰€è§&lt;/p&gt;

&lt;h3 id=&#34;41:5f871522afb4c8f73815d5199dd60799&#34;&gt;41&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;utf_8&lt;/code&gt; çš„åˆ«åï¼š&lt;code&gt;utf8&lt;/code&gt;, &lt;code&gt;u8&lt;/code&gt;, &lt;code&gt;utf-8&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;42:5f871522afb4c8f73815d5199dd60799&#34;&gt;42&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;ç¼–ç ç§ç±»&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;latin1&lt;/code&gt;(iso8859-1)ï¼šæ˜¯å…¶ä»–ç¼–ç çš„åŸºç¡€&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cp1252&lt;/code&gt;ï¼šWindowsåˆ¶å®šçš„&lt;code&gt;latin1&lt;/code&gt;çš„è¶…é›†ï¼Œæ·»åŠ äº†æœ‰ç”¨çš„ç¬¦å·&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gb2312&lt;/code&gt;ï¼šç”¨äºç¼–ç ç®€ä½“ä¸­æ–‡çš„&lt;strong&gt;é™ˆæ—§&lt;/strong&gt;æ ‡å‡†&lt;/li&gt;
&lt;li&gt;&lt;code&gt;utf-8&lt;/code&gt;ï¼šwebæœ€å¸¸è§çš„8ä½ç¼–ç ï¼Œä¸&lt;code&gt;ASCII&lt;/code&gt;å…¼å®¹&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;43:5f871522afb4c8f73815d5199dd60799&#34;&gt;43&lt;/h3&gt;

&lt;p&gt;Python3 ä¸­é»˜è®¤ä½¿ç”¨ &lt;code&gt;utf8&lt;/code&gt; ç¼–ç æºç &lt;/p&gt;

&lt;h3 id=&#34;44:5f871522afb4c8f73815d5199dd60799&#34;&gt;44&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;åˆ¤æ–­ç¼–ç &lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹æ˜¯è‚‰çœ¼æ–¹æ³•&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. &lt;code&gt;HTTP&lt;/code&gt;å’Œ&lt;code&gt;XML&lt;/code&gt;ï¼ŒåŒ…å«æ˜ç¡®æŒ‡æ˜å†…å®¹ç¼–ç çš„&lt;em&gt;é¦–éƒ¨&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;2. åŒ…å«å¤§äº127çš„å­—èŠ‚å€¼ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯ASCII&lt;/li&gt;
&lt;li&gt;3. å¦‚æœ &lt;code&gt;b&#39;\x00&#39;&lt;/code&gt; ç»å¸¸å‡ºç°ï¼Œé‚£ä¹ˆå°±ä¸æ˜¯8ä½ç¼–ç æ–¹æ¡ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç»Ÿä¸€å­—ç¬¦ç¼–ç ä¾¦æµ‹åŒ…ï¼š&lt;code&gt;Chardet&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;45:5f871522afb4c8f73815d5199dd60799&#34;&gt;45&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;Pythonä¸­ï¼Œå‡½æ•°æ˜¯ä¸€ç­‰å¯¹è±¡&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. è¿è¡Œæ—¶åˆ›å»º&lt;/li&gt;
&lt;li&gt;2. èƒ½èµ‹å€¼ç»™å˜é‡æˆ–æ•°æ®ç»“æ„ä¸­çš„å…ƒç´ &lt;/li&gt;
&lt;li&gt;3. èƒ½ä½œä¸ºå‚æ•°ä¼ ç»™å‡½æ•°&lt;/li&gt;
&lt;li&gt;4. èƒ½è¢«&lt;code&gt;return&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;46:5f871522afb4c8f73815d5199dd60799&#34;&gt;46&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;&lt;code&gt;__doc__&lt;/code&gt;ç”¨äºç”Ÿæˆå¯¹è±¡çš„å¸®åŠ©æ–‡æœ¬&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;47:5f871522afb4c8f73815d5199dd60799&#34;&gt;47&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å‡½æ•°å¼ç¼–ç¨‹&lt;/strong&gt;ï¼šç‰¹ç‚¹ä¹‹ä¸€æ˜¯ä½¿ç”¨é«˜é˜¶å‡½æ•°&lt;/p&gt;

&lt;p&gt;é«˜é˜¶å‡½æ•°ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°&lt;/li&gt;
&lt;li&gt;&lt;em&gt;æˆ–&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;2. æŠŠå‡½æ•°ä½œä¸ºç»“æœè¿”å›&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;48:5f871522afb4c8f73815d5199dd60799&#34;&gt;48&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;map, filter å’Œ reduce&lt;/code&gt; åœ¨Python3ä¸­å·²ç»ä¸æ˜¯å†…ç½®å‡½æ•°
è¢« &lt;code&gt;listcomps&lt;/code&gt; å’Œ &lt;code&gt;genexps&lt;/code&gt; æ‰€æ›¿ä»£ï¼ˆå¯è¯»æ€§åŸå› ï¼‰&lt;/p&gt;

&lt;h3 id=&#34;49:5f871522afb4c8f73815d5199dd60799&#34;&gt;49&lt;/h3&gt;

&lt;p&gt;åŒ¿åå‡½æ•°ï¼š&lt;code&gt;lambda&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;50:5f871522afb4c8f73815d5199dd60799&#34;&gt;50&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨&lt;code&gt;callable()&lt;/code&gt;å‡½æ•°æ¥åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡èƒ½å¦è°ƒç”¨&lt;/p&gt;

&lt;h3 id=&#34;51:5f871522afb4c8f73815d5199dd60799&#34;&gt;51&lt;/h3&gt;

&lt;p&gt;ç”¨æˆ·å®šä¹‰å¯è°ƒç”¨ç±»å‹ï¼Œåªéœ€å®ç°å®ä¾‹æ–¹æ³•&lt;code&gt;__call__&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;52:5f871522afb4c8f73815d5199dd60799&#34;&gt;52&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å‡½æ•°å†…çœ&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;53:5f871522afb4c8f73815d5199dd60799&#34;&gt;53&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å‡½æ•°æœ‰ä½†ä¸€èˆ¬å¯¹è±¡æ²¡æœ‰çš„ç‰¹æ®Šæ–¹æ³•ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;__annotations__&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;__call__&lt;/code&gt;ï¼šå®ç°&lt;code&gt;()&lt;/code&gt;è¿ç®—ç¬¦&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;54:5f871522afb4c8f73815d5199dd60799&#34;&gt;54&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å‡½æ•°æ³¨è§£&lt;/strong&gt;åªå­˜æ”¾åœ¨&lt;code&gt;__annotations__&lt;/code&gt;å±æ€§é‡Œï¼ŒPythonä¸åšæ£€æŸ¥ã€éªŒè¯ã€å¼ºåˆ¶&amp;hellip;&lt;/p&gt;

&lt;p&gt;æ³¨è§£åªæ˜¯å…ƒæ•°æ®ï¼Œå¯ä»¥ä¾›IDEã€æ¡†æ¶å’Œè£…é¥°å™¨å·¥å…·ä½¿ç”¨&lt;/p&gt;

&lt;h3 id=&#34;55:5f871522afb4c8f73815d5199dd60799&#34;&gt;55&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å‡½æ•°å¼ç¼–ç¨‹&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. &lt;code&gt;operator&lt;/code&gt; -&amp;gt; &lt;code&gt;itemgetter&lt;/code&gt;(getä¸‹æ ‡)ï¼Œ&lt;code&gt;attrgetter&lt;/code&gt;(get name)&lt;/li&gt;
&lt;li&gt;2. &lt;code&gt;functools&lt;/code&gt; å†…åŒ…å« &lt;code&gt;reduce&lt;/code&gt;å‡½æ•°ï¼Œ&lt;code&gt;partial&lt;/code&gt;å†»ç»“å‚æ•°ï¼Œ&lt;code&gt;partialmethod&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;blockquote&gt;
&lt;pre&gt;&lt;code&gt;    triple = partial(mul,3)
    triple(7) -&amp;gt; 21
&lt;/code&gt;&lt;/pre&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;56:5f871522afb4c8f73815d5199dd60799&#34;&gt;56&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;globals()&lt;/code&gt; &lt;strong&gt;ç­–ç•¥æ¨¡å¼&lt;/strong&gt;&lt;/p&gt;

&lt;h3 id=&#34;57:5f871522afb4c8f73815d5199dd60799&#34;&gt;57&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å‘½ä»¤æ¨¡å¼&lt;/strong&gt;ï¼šæ˜¯å›è°ƒæœºåˆ¶çš„é¢å‘å¯¹è±¡æ›¿ä»£å“&lt;/p&gt;

&lt;h3 id=&#34;58:5f871522afb4c8f73815d5199dd60799&#34;&gt;58&lt;/h3&gt;

&lt;p&gt;&lt;code&gt;nonlocal&lt;/code&gt;å…³é”®å­—ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è£…é¥°å™¨&lt;/strong&gt; ç›®çš„æ˜¯å¢å¼ºå‡½æ•°&lt;/p&gt;

&lt;h3 id=&#34;59:5f871522afb4c8f73815d5199dd60799&#34;&gt;59&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å…ƒç¼–ç¨‹&lt;/strong&gt; -&amp;gt; åœ¨è¿è¡Œæ—¶æ”¹å˜ç¨‹åºçš„è¡Œä¸º&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è£…é¥°å™¨çš„ä¸¤å¤§ç‰¹æ€§&lt;/strong&gt;ï¼š&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;1. èƒ½æŠŠè£…é¥°çš„å‡½æ•°æ›¿æ¢æˆå…¶ä»–å‡½æ•°&lt;/li&gt;
&lt;li&gt;2. åœ¨åŠ è½½æ¨¡å—æ—¶ç«‹å³æ‰§è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;60:5f871522afb4c8f73815d5199dd60799&#34;&gt;60&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;è£…é¥°å™¨&lt;/strong&gt; åœ¨è¢«è£…é¥°çš„å‡½æ•°å®šä¹‰ä¹‹åç«‹å³è¿è¡Œã€‚é€šå¸¸æ˜¯åœ¨å¯¼å…¥æ—¶ï¼ˆåŠ è½½æ¨¡å—æ—¶ï¼‰&lt;/p&gt;

&lt;h3 id=&#34;61:5f871522afb4c8f73815d5199dd60799&#34;&gt;61&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;å˜é‡ä½œç”¨åŸŸè§„åˆ™&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;    b = 6
    def f2(a):
        print(a)
        print(b)
        b = 9
    
    f2(3)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¾“å‡º &lt;code&gt;3&lt;/code&gt;, &lt;code&gt;local variable &#39;b&#39; referenced before assignment&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Pythonç¼–è¯‘å‡½æ•°å®šä¹‰ä½“æ—¶ï¼Œå®ƒåˆ¤æ–­&lt;code&gt;b&lt;/code&gt;æ˜¯å±€éƒ¨å˜é‡ï¼Œå› ä¸ºåœ¨å‡½æ•°ä¸­ç»™å®ƒèµ‹å€¼äº†ã€‚ç”Ÿæˆçš„å­—èŠ‚ç è¯å®äº†è¿™ç§åˆ¤æ–­ï¼ŒPythonä¼šå°è¯•ä»æœ¬åœ°ç¯å¢ƒè·å–&lt;code&gt;b&lt;/code&gt;ã€‚åé¢è°ƒç”¨&lt;code&gt;f2(3)&lt;/code&gt;æ—¶ï¼Œ&lt;code&gt;f2&lt;/code&gt;çš„å®šä¹‰ä½“ä¼šè·å–å¹¶æ‰“å°å±€éƒ¨å˜é‡&lt;code&gt;a&lt;/code&gt;çš„å€¼ï¼Œä½†æ˜¯å°è¯•è·å–å±€éƒ¨å˜é‡&lt;code&gt;b&lt;/code&gt;çš„å€¼æ—¶ï¼Œå‘ç°&lt;code&gt;b&lt;/code&gt;æ²¡æœ‰ç»‘å®šå€¼ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¿™ä¸æ˜¯ç¼ºé™·&lt;/strong&gt;ï¼Œè€Œæ˜¯&lt;strong&gt;è®¾è®¡é€‰æ‹©&lt;/strong&gt;ï¼šPythonä¸è¦æ±‚å£°æ˜å˜é‡ï¼Œä½†æ˜¯å‡å®šåœ¨å‡½æ•°å®šä¹‰ä½“ä¸­èµ‹å€¼çš„å˜é‡æ˜¯å±€éƒ¨å˜é‡ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœåœ¨å‡½æ•°ä¸­èµ‹å€¼æ—¶æƒ³è®©è§£é‡Šå™¨æŠŠ&lt;code&gt;b&lt;/code&gt;å½“æˆå…¨å±€å˜é‡ï¼Œè¦ä½¿ç”¨&lt;code&gt;global&lt;/code&gt;å£°æ˜ã€‚&lt;/p&gt;

&lt;h3 id=&#34;62:5f871522afb4c8f73815d5199dd60799&#34;&gt;62&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;é—­åŒ…&lt;/strong&gt; ä¸ç­‰åŒäº &lt;strong&gt;åŒ¿åå‡½æ•°&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;é—­åŒ…æ˜¯å»¶ä¼¸äº†ä½œç”¨åŸŸçš„å‡½æ•°&lt;/strong&gt;ï¼Œå‡½æ•°æ˜¯ä¸æ˜¯åŒ¿åçš„æ²¡æœ‰å…³ç³»ï¼Œå…³é”®æ˜¯å®ƒèƒ½å¦è®¿é—®å®šä¹‰ä½“&lt;strong&gt;ä¹‹å¤–&lt;/strong&gt;å®šä¹‰çš„&lt;strong&gt;é&lt;/strong&gt;å…¨å±€å˜é‡&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Jmeter Thread Group</title>
      <link>http://danigong.github.io/post/Jmeter_Thread_Group/</link>
      <pubDate>Sun, 11 Mar 2018 15:17:57 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/Jmeter_Thread_Group/</guid>
      <description>&lt;p&gt;&lt;strong&gt;1ã€Action to be take after a Sampler error&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Continue&lt;/code&gt;ï¼šå¿½ç•¥é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œæ“ä½œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Start Next Thread Loop&lt;/code&gt;ï¼šå¿½ç•¥é”™è¯¯ï¼Œçº¿ç¨‹å½“å‰å¾ªç¯ç»ˆæ­¢ï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªå¾ªç¯&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Stop Thread&lt;/code&gt;ï¼šåœæ­¢å½“å‰çº¿ç¨‹ï¼Œå…¶ä»–çº¿ç¨‹ä¸å—å½±å“&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Stop Test&lt;/code&gt;ï¼šå½“å‰æ‰§è¡Œçš„é‡‡æ ·å™¨ç»“æŸåï¼Œåœæ­¢æ•´ä¸ªæµ‹è¯•è®¡åˆ’&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Stop Test Now&lt;/code&gt;ï¼šç«‹å³åœæ­¢æ•´ä¸ªæµ‹è¯•è®¡åˆ’&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;2ã€Thread Properties&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Number of Threads(users)&lt;/code&gt;ï¼šå½“å‰çº¿ç¨‹æ•°é‡ï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸ºç”¨æˆ·æ•°é‡ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ramp-up Period (in seconds)&lt;/code&gt;ï¼šè¾¾åˆ°ä¸Šé¢æŒ‡å®šçº¿ç¨‹æ•°æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚ä¸¾ä¸ªæ —å­ï¼šå‡è®¾çº¿ç¨‹æ•°ä¸º100ä¸ªï¼ŒèŠ±è´¹æ—¶é—´20sï¼Œé‚£ä¹ˆæ¯ç§’å¯åŠ¨çš„çº¿ç¨‹æ•° = çº¿ç¨‹æ•°/æ—¶é—´ï¼Œå³100/20 = 5ã€‚æ¢å¥è¯è¯´ï¼Œå°±æ˜¯1ç§’å¯åŠ¨5ä¸ªçº¿ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Loop Count&lt;/code&gt;ï¼šå‹¾é€‰â€œæ°¸è¿œâ€é€‰é¡¹ï¼Œåˆ™çº¿ç¨‹ç»„ä¸€ç›´å¾ªç¯ã€‚å¦åˆ™ï¼Œä»¥åé¢æ‰€å¡«æ•°é‡ä¸ºå‡†ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Delay Thread creation until needed&lt;/code&gt;ï¼šå½“çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„æ—¶å€™ï¼Œæ‰ä¼šè¢«åˆ›å»ºã€‚å¦‚æœä¸å‹¾é€‰æ­¤é€‰é¡¹ï¼Œæ‰€æœ‰çº¿ç¨‹åœ¨å¼€å§‹æ—¶å°±å…¨éƒ¨è¢«åˆ›å»ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Scheduler&lt;/code&gt;ï¼šå‹¾é€‰æ­¤é€‰é¡¹ï¼Œæ‰å¯ä¿®æ”¹ä¸‹é¢çš„è°ƒåº¦å™¨é…ç½®&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;3ã€Scheduler Configuration&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Duration(seconds)&lt;/code&gt;ï¼šæ•´ä¸ªæµ‹è¯•è®¡åˆ’æŒç»­çš„æ—¶é—´ã€‚ï¼ˆä¼˜å…ˆäºåé¢çš„ç»“æŸæ—¶é—´é€‰é¡¹)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Startup delay(seconds)&lt;/code&gt;ï¼šæµ‹è¯•è®¡åˆ’å¯åŠ¨åï¼Œä¼šè¢«å»¶è¿Ÿå¯åŠ¨ï¼Œæ—¶é—´ä¸ºé€‰é¡¹å¡«å…¥çš„æ—¶é—´ã€‚ï¼ˆä¼˜å…ˆäºåé¢çš„å¯åŠ¨æ—¶é—´é€‰é¡¹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Why nGrinder?</title>
      <link>http://danigong.github.io/post/Why_nGrinder/</link>
      <pubDate>Fri, 09 Mar 2018 16:36:55 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/Why_nGrinder/</guid>
      <description>&lt;p&gt;nGrinderä¸å…¶ä»–å·¥å…·æ¯”è¾ƒ&amp;ndash;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;JMeter&lt;/strong&gt;
åŸºäºUIæ“ä½œï¼Œå®¹æ˜“ä¸Šæ‰‹ï¼Œä½†æ˜¯ä¸å…·å¤‡ç¼–ç¨‹èƒ½åŠ›ã€‚å…¶æ¬¡JMeteråŸºäºçº¿ç¨‹æ¨¡æ‹Ÿæ•°åƒç”¨æˆ·å‡ ä¹ä¸å¯èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Tsung&lt;/strong&gt;
åŸºäºErlangï¼Œèƒ½æ¨¡æ‹Ÿä¸Šåƒç”¨æˆ·å¹¶ä¸”æ˜“äºæ‰©å±•ã€‚ä½†æ˜¯åŸºäºXMLçš„DSLï¼Œæè¿°åœºæ™¯èƒ½åŠ›å¼±ï¼Œè€Œä¸”éœ€è¦å¤§é‡çš„æ•°æ®å¤„ç†æ‰çŸ¥é“æµ‹è¯•ç»“æœã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Locust&lt;/strong&gt;
åŸºäºpythonçš„geventï¼Œèƒ½æ¨¡æ‹Ÿç™¾ä¸‡ä¸ªç”¨æˆ·ã€‚ä½†æ˜¯éœ€è¦å¯¹pythonæœ‰ä¸€å®šç†è§£ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Loadrunner&lt;/strong&gt;
è¿™ä¸ªå¯ä»¥è¯´æ˜¯åº”ç”¨æœ€å¤šçš„ä¸€ä¸ªï¼Œå¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯è¿˜æ˜¯å¤ªé‡ã€‚å¾€åçš„æ–¹å‘è‚¯å®šæ˜¯å®¢æˆ·ç«¯å·¥å…·é€æ­¥å‘å¹³å°åŒ–å‘å±•ï¼Œæ‰€ä»¥loadrunneræ³¨å®šæ…¢æ…¢è¢«æ·˜æ±°ï¼ˆä¸ªäººæ‹™è§ï¼‰ã€‚è€Œä¸”ä¸å¼€æºï¼Œæ‰©å±•æ€§ä¸é«˜ï¼Œæ”¶è´¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;nGrinder&lt;/strong&gt;
å•èŠ‚ç‚¹æ”¯æŒ3000å¹¶å‘ã€æ”¯æŒåˆ†å¸ƒå¼ã€å¯ç›‘æ§è¢«æµ‹æœåŠ¡å™¨ã€å¯å½•åˆ¶è„šæœ¬ã€å¼€æºã€å¹³å°åŒ–ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Show all files in finder</title>
      <link>http://danigong.github.io/post/Show_all_files_in_finder/</link>
      <pubDate>Thu, 08 Mar 2018 14:37:42 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/Show_all_files_in_finder/</guid>
      <description>&lt;p&gt;å¦‚ä½•åœ¨Mac OS Xä¸­å¼€å¯æˆ–å…³é—­æ˜¾ç¤ºéšè—æ–‡ä»¶å‘½ä»¤&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¯ä»¥è¿™æ ·ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;defaults write com.apple.finder AppleShowAllFiles -bool true&lt;/code&gt;      - æ­¤å‘½ä»¤æ˜¾ç¤ºéšè—æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;defaults write com.apple.finder AppleShowAllFiles -bool false&lt;/code&gt;     - æ­¤å‘½ä»¤å…³é—­æ˜¾ç¤ºéšè—æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;

&lt;p&gt;å‘½ä»¤è¿è¡Œä¹‹åéœ€è¦é‡æ–°åŠ è½½Finderï¼šå¿«æ·é”®&lt;code&gt;option+command+esc&lt;/code&gt;ï¼Œé€‰ä¸­Finderï¼Œé‡æ–°å¯åŠ¨å³å¯&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æˆ–è€…è¿™æ ·ï¼š&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;&lt;code&gt;defaults write com.apple.finder AppleShowAllFiles FALSE&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;killall Finder&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>Force empty trash</title>
      <link>http://danigong.github.io/post/Force_empty_trash/</link>
      <pubDate>Thu, 08 Mar 2018 14:18:34 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/Force_empty_trash/</guid>
      <description>&lt;p&gt;&lt;strong&gt;å¯ä»¥è¿™æ ·&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;sudo rm -rf ~/.Trash/&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
    </item>
    
    <item>
      <title>How to create a github.io repo</title>
      <link>http://danigong.github.io/post/how_to_create_a_github_io_repo/</link>
      <pubDate>Wed, 07 Mar 2018 17:09:40 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/how_to_create_a_github_io_repo/</guid>
      <description>&lt;p&gt;&lt;strong&gt;å¼€é€šè‡ªå·±çš„github.io repo&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;github.ioæ˜¯å®Œå…¨åŸºäºgithubåˆ›å»ºçš„ï¼Œå…¶æœ¬è´¨ä¸Šæ˜¯åœ¨ä½ çš„githubè´¦æˆ·ä¸‹åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„repoã€‚ä½ å¯ä»¥å‚ç…§å¦‚ä¸‹æ­¥éª¤å®Œæˆï¼š&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;åˆ›å»ºrepo&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œä¸€åˆ‡çš„å‰ææ˜¯ä½ å¾—é¦–å…ˆæœ‰ä¸ªgithubçš„è´¦æˆ·ï¼Œè¿™é‡Œè¿˜è¯·è‡ªè¡Œè§£å†³ã€‚ç™»é™†ä½ çš„è´¦æˆ·åï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„repoã€‚è¯·åŠ¡å¿…æ³¨æ„è¯¥repoçš„åå­—ï¼Œå¿…é¡»ä¿æŒæ ¼å¼&lt;code&gt;&amp;lt;username&amp;gt;.github.io&lt;/code&gt;ï¼Œå…¶ä¸­&lt;code&gt;&amp;lt;username&amp;gt;&lt;/code&gt;æ›¿æ¢æˆä½ çš„githubè´¦æˆ·åï¼Œè¿™é‡Œå‡å®šåˆ›å»ºçš„repoä¸º &amp;gt; &lt;code&gt;danielgong.github.io&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æŠŠä½ åˆ›å»ºçš„repo cloneåˆ°æœ¬åœ°å°±å¯ä»¥äº†&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;git clone https://github.com/tobiasalin/tobiasalin.github.io&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to update hugo blog</title>
      <link>http://danigong.github.io/post/how_to_update_hugo_blog/</link>
      <pubDate>Wed, 07 Mar 2018 16:45:07 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/how_to_update_hugo_blog/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Quick Start&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;1. Open iTerm2&lt;/li&gt;
&lt;li&gt;2. &lt;code&gt;control+command+h&lt;/code&gt; to open the tab with hugo profile&lt;/li&gt;
&lt;li&gt;3. &lt;code&gt;addblog&lt;/code&gt; to create a new blog post, hugo command will create a new post tesmplate and subl command will help open it.&lt;/li&gt;
&lt;li&gt;4. Note: Blog Title should not contain space and strip out &lt;code&gt;menu = &amp;quot;main&amp;quot;&lt;/code&gt; in the template.&lt;/li&gt;
&lt;li&gt;5. &lt;code&gt;deployblog&lt;/code&gt; to deploy newest update to github.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Detail&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;create blog shell script:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;echo &amp;quot;Blog Title: &amp;quot;
read Title
cd /Users/DanielGong/HugoSite/testsite
hugo new post/$Title.md
subl /Users/DanielGong/HugoSite/testsite/content/post/$Title.md
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;eploy blog shell script:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;echo &amp;quot;-------Begin-------&amp;quot;

cd /Users/DanielGong/HugoSite/testsite
hugo --theme=gs-hyde --baseUrl=&amp;quot;http://danigong.github.io/&amp;quot;
cd public
git add -A
git commit -m &amp;quot;auto_commit&amp;quot;
git push origin master

echo &amp;quot;-------Done-------&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;customize command:&lt;/p&gt;

&lt;p&gt;Add &lt;code&gt;alias addblog=&amp;quot;xxx.sh&amp;quot;&lt;/code&gt; into &lt;code&gt;.bashrc&lt;/code&gt; file. Then &lt;code&gt;source ~/.bashrc&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Markdown Online Editor</title>
      <link>http://danigong.github.io/post/markdown_online_editor/</link>
      <pubDate>Wed, 07 Mar 2018 11:25:30 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/markdown_online_editor/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Online Markdown Language Editor&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Visit: &lt;a href=&#34;https://www.zybuluo.com/mdeditor&#34;&gt;https://www.zybuluo.com/mdeditor&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>The best django project structure</title>
      <link>http://danigong.github.io/post/The-best-django-project-structure/</link>
      <pubDate>Mon, 05 Mar 2018 11:01:39 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/The-best-django-project-structure/</guid>
      <description>

&lt;h1 id=&#34;é¡¹ç›®ç›®å½•ç»“æ„:dfe114c833a99a64f54e2cfb47175ca9&#34;&gt;é¡¹ç›®ç›®å½•ç»“æ„&lt;/h1&gt;

&lt;p&gt;åœ¨ä¸Šä¸€èŠ‚é‡Œæˆ‘ä»¬ä½¿ç”¨Djangoçš„django-admin startprojectå‘½ä»¤æ¥åˆ›å»ºäº†ä¸€ä¸ªHelloworldçš„é¡¹ç›®ï¼Œåœ¨æ²¡æœ‰å†™ä»»ä½•ä»£ç çš„æƒ…å†µä¸‹æˆåŠŸè¿è¡Œäº†è¿™ä¸ªé¡¹ç›®ã€‚è™½ç„¶ç›®å‰æ¥è¯´è¿™ä¸ªé¡¹ç›®æ²¡æœ‰ä»»ä½•åŠŸèƒ½ï¼Œä½†æ˜¯è¿™æ˜¯æˆ‘ä»¬ä¸€ä¸ªæˆåŠŸçš„å¼€å§‹ï¼Œä¸æ˜¯å—ï¼Ÿ&lt;/p&gt;

&lt;h3 id=&#34;helloworldé¡¹ç›®çš„ç›®å½•ç»“æ„:dfe114c833a99a64f54e2cfb47175ca9&#34;&gt;Helloworldé¡¹ç›®çš„ç›®å½•ç»“æ„&lt;/h3&gt;

&lt;p&gt;æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªé¡¹ç›®çš„ç›®å½•ç»“æ„&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://zhiwehu.gitbooks.io/build-web-application-with-python-django/content/assets/Helloworld project directory structure.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æœ€å¤–å±‚çš„Helloworldç›®å½•ï¼Œæ˜¯é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œåœ¨è¿™ä¸ªç›®å½•ä¸‹æˆ‘ä»¬çœ‹åˆ°æœ‰2ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯&lt;code&gt;db.sqlite3&lt;/code&gt;æ˜¯æ•°æ®åº“æ–‡ä»¶ï¼Œå¦ä¸€ä¸ªæ˜¯&lt;code&gt;manage.py&lt;/code&gt;æ˜¯Djangoæä¾›çš„ä¸€ä¸ªç®¡ç†å·¥å…·å…¥å£ï¼Œæ¯”å¦‚ä¸Šä¸€èŠ‚ä¸­æˆ‘ä»¬ä½¿ç”¨python manage.py runserveræ¥è¿è¡Œè¿™ä¸ªweb appã€‚
æ ¹ç›®å½•ä¸‹é¢çš„Helloworldç›®å½•ï¼Œæ˜¯é¡¹ç›®çš„é…ç½®ç›®å½•ï¼Œé‡Œé¢æ”¾äº†Djangoçš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä¸€ä¸ª&lt;code&gt;settings.py&lt;/code&gt;ï¼Œä¸€ä¸ªæ ¹&lt;code&gt;urls.py&lt;/code&gt;å’Œ&lt;code&gt;wsgi.py&lt;/code&gt;ï¼Œè¿™äº›éƒ½æ˜¯Djangoè¿è¡Œæ‰€éœ€è¦çš„é…ç½®æ€§æ–‡ä»¶ã€‚
è¿˜æœ‰ä¸€ä¸ªfirstappæ˜¯æˆ‘ä½¿ç”¨&lt;code&gt;django-admin startapp firstapp&lt;/code&gt;è¿™ä¸ªå‘½ä»¤åˆ›å»ºçš„ä¸€ä¸ªappï¼Œè¿™ç›¸å½“æ˜¯è¿™ä¸ªé¡¹ç›®çš„ä¸€ä¸ªåŠŸèƒ½æ€§çš„appï¼ŒDjangoä½¿ç”¨appæ¥åˆ’åˆ†æ¨¡å—ã€‚
è¿™ä¸ªé¡¹ç›®ç›®å½•ç»“æ„å¥½å—ï¼Ÿ
è™½ç„¶æˆ‘ä»¬ä½¿ç”¨äº†Djangoæä¾›çš„django-adminåˆ›å»ºçš„é¡¹ç›®ç›®å½•ç»“æ„çœ‹èµ·æ¥å¾ˆç®€å•æ˜äº†ï¼Œä½†æ˜¯æˆ‘ä»¬åº”è¯¥çŸ¥é“ï¼Œè¿™åªæ˜¯ä¾›å­¦ä¹ ä½¿ç”¨çš„ï¼Œåœ¨çœŸæ­£çš„é¡¹ç›®é‡Œï¼Œä¼°è®¡å°±æ²¡æœ‰äººè¿™æ ·ä½¿ç”¨äº†ã€‚ä¸€ä¸ªçœŸå®çš„äº§å“é¡¹ç›®ï¼Œæˆ‘ä»¬éœ€è¦æœ‰æ›´å¤šçš„é…ç½®ä¿¡æ¯ã€æ–‡æ¡£ã€æµ‹è¯•ç­‰ï¼Œä»¥åŠä»£ç ä»“åº“é…ç½®ç­‰ã€‚è€Œè¿™ä¸ªç®€å•çš„ç›®å½•ç»“æ„æ˜¾ç„¶æ˜¯è¾¾ä¸åˆ°è¿™æ ·çš„è¦æ±‚çš„ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ¨èçš„é¡¹ç›®ç›®å½•ç»“æ„:dfe114c833a99a64f54e2cfb47175ca9&#34;&gt;æ¨èçš„é¡¹ç›®ç›®å½•ç»“æ„&lt;/h3&gt;

&lt;p&gt;åœ¨æœ¬èŠ‚é‡Œæˆ‘é‡ç‚¹æ˜¯è¦ä»‹ç»ä¸€ä¸ªæˆ‘è®¤ä¸ºæ˜¯æœ€ä½³çš„Djangoé¡¹ç›®ç›®å½•ç»“æ„ï¼Œå½“ç„¶æ‰€è°“çš„ã€æœ€ä½³ã€å› äººè€Œå¼‚ï¼Œæˆ‘åŒæ—¶ä¹Ÿä¼šæä¾›å…¶ä»–çš„ä¸€äº›é€‰é¡¹ä¾›å‚è€ƒã€‚æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹è¿™ä¸ª&lt;strong&gt;ç›®å½•ç»“æ„&lt;/strong&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://zhiwehu.gitbooks.io/build-web-application-with-python-django/content/assets/The best django project directory structure.png&#34; alt=&#34;tool-manager&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;æ¥ä¸‹æ¥æˆ‘è¯¦ç»†è¯´æ˜ä¸€ä¸‹è¿™ä¸ªç›®å½•ç»“æ„:dfe114c833a99a64f54e2cfb47175ca9&#34;&gt;æ¥ä¸‹æ¥æˆ‘è¯¦ç»†è¯´æ˜ä¸€ä¸‹è¿™ä¸ªç›®å½•ç»“æ„&lt;/h3&gt;

&lt;p&gt;æœ€å¤–å±‚çš„projectæ˜¯é¡¹ç›®æ ¹ç›®å½•ï¼Œè¿™ä¸ªç›®å½•é™¤äº†ä¹‹å‰çš„manage.pyè¿™ä¸ªæ–‡ä»¶å¤–ï¼Œè¿˜æœ‰æ›´å¤šçš„é…ç½®æ–‡ä»¶ï¼Œå’Œå…¶ä»–å­ç›®å½•ã€‚è¿™äº›é…ç½®æ–‡ä»¶åé¢ä¼šè¯¦ç»†ä»‹ç»ã€‚
configç›®å½•æ˜¯é…ç½®ç›®å½•ï¼Œé‡Œé¢é™¤äº†åŒ…å«äº†æ ¹&lt;code&gt;urls.py&lt;/code&gt;æ–‡ä»¶å’Œ&lt;code&gt;wsgi.py&lt;/code&gt;æ–‡ä»¶ï¼Œæˆ‘ä»¬å°†åŸæ¥çš„&lt;code&gt;settings.py&lt;/code&gt;æ‰©å±•æˆä¸ºäº†ä¸€ä¸ªPython packageï¼Œå› ä¸ºæˆ‘ä»¬åœ¨ä¸åŒçš„ç¯å¢ƒä¸­å°†ä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨æœ¬åœ°ç”µè„‘ä¸Šä½¿ç”¨&lt;code&gt;settings.local.py&lt;/code&gt;ï¼Œè€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨&lt;code&gt;settings.production.py&lt;/code&gt;ã€‚
docsæ˜¯æ–‡æ¡£ç›®å½•
projectç›®å½•æ˜¯é¡¹ç›®çš„appsç›®å½•ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªwebçš„appséƒ½æ”¾åœ¨è¿™ä¸ªç›®å½•ä¸‹é¢ï¼Œæ¯”å¦‚è¿™é‡Œå·²ç»æœ‰ä¸€ä¸ªusersçš„appï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿçœ‹åˆ°æœ‰staticå’Œtemplatesè¿™2ä¸ªç›®å½•ï¼Œè¿™2ä¸ªå¹¶ä¸æ˜¯appï¼Œè€Œæ˜¯å…¶ä»–appséœ€è¦ä½¿ç”¨çš„é™æ€æ–‡ä»¶ç›®å½•å’Œæ¨¡æ¿ç›®å½•ã€‚
requirementsç›®å½•æ˜¯æ”¾ç½®ä¾èµ–åŒ…çš„ç´¢å¼•æ–‡ä»¶ï¼Œæˆ‘ä»¬çŸ¥é“Pythonä½¿ç”¨pipå®‰è£…Pythonè½¯ä»¶åŒ…ï¼Œæ‰€ä»¥éœ€è¦äº›äº›Pythonè½¯ä»¶åŒ…æˆ‘ä»¬å°±åœ¨ä¸€ä¸ªtxtæ–‡ä»¶é‡Œåˆ—å‡ºè¿™äº›è½¯ä»¶åŒ…çš„åå­—å’Œç‰ˆæœ¬å·ã€‚æ³¨æ„æˆ‘ä»¬åŒæ ·æ˜¯æ ¹æ®ä¸åŒçš„ç¯å¢ƒæœ‰ä¸åŒçš„è½¯ä»¶åŒ…ç´¢å¼•ï¼Œå¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒæ‰€ä¾èµ–çš„Pythonè½¯ä»¶åŒ…æ˜¯ä¸ä¸€æ ·çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿåˆ†å¼€åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ç´¢å¼•ã€‚
utilityç›®å½•æ”¾çš„æ˜¯ä¸€äº›é¡¹ç›®çš„å·¥å…·shellï¼Œæ¯”å¦‚è¿è¡Œè¿™ä¸ªé¡¹ç›®æ“ä½œç³»ç»Ÿéœ€è¦å®‰è£…çš„ä¸€äº›åº•å±‚åº“å’Œè½¯ä»¶åŒ…ç­‰ï¼Œè¿™äº›ä¸€èˆ¬æ˜¯åœ¨éƒ¨ç½²æ—¶ä½¿ç”¨ã€‚
æ€ä¹ˆåˆ›å»ºè¿™ä¸ªç›®å½•ç»“æ„ï¼Ÿ
æ¯æ¬¡å¼€å§‹ä¸€ä¸ªæ–°çš„Djangoé¡¹ç›®ï¼Œæˆ‘ä»¬å°±éœ€è¦åˆå§‹åŒ–è¿™ä¸ªé¡¹ç›®ï¼Œåˆ›å»ºè¿™ä¸ªé¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œç„¶åè¿›è¡Œå¼€å‘ã€‚æˆ‘ä»¬çŸ¥é“ä½¿ç”¨django-adminå‘½ä»¤è¡Œå·¥å…·æ˜¯å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹çš„ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥åˆ›å»ºäº†Helloworldé¡¹ç›®ã€‚è€Œä¸Šé¢è¿™ä¸ªé¡¹ç›®ç›®å½•ç»“æ„æ˜¯æ€ä¹ˆåˆ›å»ºçš„å‘¢ï¼Ÿæ¥ä¸‹æ¥æˆ‘å°†ä»‹ç»å¦ä¸€ä¸ªéå¸¸å®ç”¨çš„å·¥å…·&lt;code&gt;cookiecutter&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>cookiecutter for django</title>
      <link>http://danigong.github.io/post/cookiecutter-for-django/</link>
      <pubDate>Mon, 05 Mar 2018 10:59:16 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/cookiecutter-for-django/</guid>
      <description>&lt;p&gt;cookiecutter
è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºåˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„çš„å·¥å…·ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä½¿ç”¨Pythonæ¥å®ç°çš„ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ¨¡æ¿æ¥åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œæ¯”å¦‚ä¸Šé¢æˆ‘ä»‹ç»çš„é¡¹ç›®ç›®å½•ç»“æ„å®é™…ä¸Šæ˜¯ä¸€ä¸ªæ¨¡æ¿ï¼Œä¹Ÿæ˜¯githubå¼€æºçš„ï¼Œé“¾æ¥ï¼š&lt;a href=&#34;https://github.com/pydanny/cookiecutter-django&#34;&gt;https://github.com/pydanny/cookiecutter-django&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å®‰è£…cookiecutter
    &lt;code&gt;pip install cookiecutter&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;åˆ›å»ºé¡¹ç›®
    &lt;code&gt;cookiecutter https://github.com/pydanny/cookiecutter-django&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;è¿è¡Œä¸Šé¢ç¬¬äºŒä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œä¼šé—®ä½ ä¸€å¤§å †é—®é¢˜ï¼Œè¿™äº›é—®é¢˜ä¸­ä¸‹ç¤ºä¾‹ï¼ˆé™„ç®€çŸ­è®²è§£ï¼‰&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Cloning into &#39;cookiecutter-django&#39;...
remote: Counting objects: 550, done.
remote: Compressing objects: 100% (310/310), done.
remote: Total 550 (delta 283), reused 479 (delta 222)
Receiving objects: 100% (550/550), 127.66 KiB | 58 KiB/s, done.
Resolving deltas: 100% (283/283), done.
# é—®ä½ é¡¹ç›®å«ä»€ä¹ˆåå­—ï¼Œè¿™é‡Œå¯ä»¥å¤§å°å†™ï¼Œå¸¦ç©ºæ ¼
project_name [Project Name]: Reddit Clone
# é—®ä½ é¡¹ç›®çš„æ ¹ç›®å½•åå­—ï¼Œä¸€èˆ¬æ˜¯å°å†™æ²¡æœ‰ç©ºæ ¼ï¼Œè¿™ä¸ªä¼šç”Ÿæˆä¸€ä¸ªç›®å½•
project_slug [reddit_clone]: reddit
# å¼€å‘è€…åå­—
author_name [Daniel Roy Greenfeld]: Jeffrey Hu
# å¼€å‘è€…é‚®ä»¶
email [you@example.com]: zhiwehu@gmail.com
# é¡¹ç›®ç®€çŸ­ä»‹ç»
description [A short description of the project.]: A reddit clone.
# é¡¹ç›®åŸŸå
domain_name [example.com]: lettoo.com
# é¡¹ç›®ç‰ˆæœ¬å·
version [0.1.0]: 0.0.1
# æ—¶åŒºï¼Œå°±é€‰é»˜è®¤çš„UTC
timezone [UTC]: 
# æ˜¯å¦ä½¿ç”¨whitenoiseï¼Œwhitenoiseæ˜¯ä¸€ä¸ªPythonå®ç°çš„é™æ€æ–‡ä»¶hostè§£å†³æ–¹æ¡ˆï¼Œå»ºè®®åˆå­¦è€…é€‰No
use_whitenoise [y]: n
# æ˜¯å¦ä½¿ç”¨celeryï¼Œ[celery](http://www.celeryproject.org/)æ˜¯ä¸€ä¸ªPythonå®ç°çš„åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—è§£å†³æ–¹æ¡ˆï¼Œä¸€èˆ¬ç”¨äºåå°jobï¼Œå»ºè®®åˆå­¦è€…é€‰No
use_celery [n]: 
# æ˜¯å¦ä½¿ç”¨mailhogï¼Œmailhogæ˜¯ä¸€ä¸ªç”¨äºæœ¬åœ°å¼€å‘ç¯å¢ƒæµ‹è¯•emailçš„ï¼Œå»ºè®®åˆå§‹é€‰No
use_mailhog [n]: n
# æ˜¯å¦ä½¿ç”¨sentryï¼Œsentryæ˜¯ä¸€ä¸ªäº‘ç«¯æ—¥å¿—è·Ÿè¸ªå’Œåˆ†æå¹³å°ï¼ŒPythonå®ç°ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¼€æºå¹³å°ï¼Œä½ å¯ä»¥è‡ªå·±æ­å»ºè‡ªå·±çš„sentryäº‘æ—¥å¿—è·Ÿè¸ªåˆ†æå¹³å°ã€‚å»ºè®®åˆå§‹é€‰No
use_sentry_for_error_reporting [y]: n
# æ˜¯å¦ä½¿ç”¨opbeatï¼Œopbeatæ˜¯ä¸€ä¸ªäº‘ç«¯æ€§èƒ½è·Ÿè¸ªå’Œåˆ†æå·¥å…·ï¼Œæœ‰ä¸€éƒ¨åˆ†é”™è¯¯åˆ†æåŠŸèƒ½ï¼Œå»ºè®®åˆå§‹é€‰No
use_opbeat [n]: n
# æ˜¯å¦ä½¿ç”¨pycharmï¼Œpycharmæ˜¯ä¸€ä¸ªIDEï¼Œç”±å¤§åé¼é¼çš„jetbrainså…¬å¸å‡ºå“ï¼Œå…¶å‡ºå“å…¶ä»–æœ‰åçš„IDEå¦‚Ideaï¼ŒWebstormç­‰ï¼Œå› ä¸ºæˆ‘æ˜¯pycharmå¼€å‘æ‰€ä»¥é€‰Yesï¼Œå¦‚æœä½ ä¸ä½¿ç”¨è¿™ä¸ªIDEåˆ™é€‰No
use_pycharm [n]: y
# æ˜¯å¦æ˜¯windowsæ“ä½œç³»ç»Ÿ
windows [n]: n
# æ˜¯å¦ä½¿ç”¨Python3
use_python3 [y]: y
# æ˜¯å¦ä½¿ç”¨dockerï¼Œdockeræ˜¯ä¸€ä¸ªappå®¹å™¨å¹³å°ï¼Œå»ºè®®åˆå§‹é€‰No
use_docker [y]: n
# æ˜¯å¦ä½¿ç”¨herokuï¼Œherokuæ˜¯ä¸€ä¸ªPAASäº‘å¹³å°ï¼Œç”¨äºéƒ¨ç½²web appï¼Œå»ºè®®åˆå§‹é€‰No
use_heroku [n]: n
# æ˜¯å¦ä½¿ç”¨compressorï¼Œcompressoræ˜¯ä¸€ä¸ªå‹ç¼©è§£å†³æ–¹æ¡ˆï¼Œå»ºè®®åˆå§‹é€‰No
use_compressor [n]: n
# ä½¿ç”¨postgresqlç‰ˆæœ¬ï¼Œè¿™ä¸ªé¡¹ç›®å»ºè®®æœ¬åœ°å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒéƒ½ä½¿ç”¨Postgresqlæ•°æ®åº“ï¼ŒPostgresqlæ˜¯ä¸€ä¸ªå¼€æºæ•°æ®åº“ï¼Œä¹Ÿæ˜¯Djangoå®˜æ–¹æ¨èä½¿ç”¨çš„æ•°æ®åº“ï¼Œé»˜è®¤é€‰æ‹©1ä¸ºå½“å‰æœ€æ–°çš„ç‰ˆæœ¬ã€‚
Select postgresql_version:
1 - 9.5
2 - 9.4
3 - 9.3
4 - 9.2
Choose from 1, 2, 3, 4 [1]: 1
# é€‰æ‹©å“ªä¸€ç§JavaScriptä»»åŠ¡ç®¡ç†å™¨ï¼Œè¿™é‡Œå»ºè®®åˆå§‹é€‰Noneï¼Œæˆ‘ä»¬ä¸å¸Œæœ›åœ¨è¿™é‡Œè¿‡å¤šçš„æ¶‰åŠå‰ç«¯çš„å†…å®¹ã€‚
Select js_task_runner:
1 - Gulp
2 - Grunt
3 - Webpack
4 - None
Choose from 1, 2, 3, 4 [1]: 4
# æ˜¯å¦ä½¿ç”¨let&#39;s encryptï¼Œlet&#39;s encryptæ˜¯ä¸€ä¸ªå…è´¹ç”ŸæˆSSL HTTPSè¯ä¹¦çš„æœåŠ¡ï¼Œè®©ä½ çš„ç½‘ç«™å…è´¹æ”¯æŒhttpså®‰å…¨åè®®ï¼Œé»˜è®¤é€‰No
use_lets_encrypt [n]: n
# å¼€æºlicenseï¼Œé»˜è®¤é€‰1ï¼Œå¦‚æœä½ æ˜¯ç§æœ‰é¡¹ç›®ï¼Œé€‰5
Select open_source_license:
1 - MIT
2 - BSD
3 - GPLv3
4 - Apache Software License 2.0
5 - Not open source
Choose from 1, 2, 3, 4, 5 [1]: 1
æ˜¯å¦ä½¿ç”¨AWS Elastic Beanstalkï¼Œé»˜è®¤é€‰No
use_elasticbeanstalk_experimental: n
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Centos&#43;nginx&#43;uwsgi&#43;django</title>
      <link>http://danigong.github.io/post/django_uwsgi_nginx/</link>
      <pubDate>Sun, 24 Dec 2017 20:50:30 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/django_uwsgi_nginx/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://uwsgi-docs.readthedocs.io/en/latest/tutorials/Django_and_nginx.html&#34;&gt;https://uwsgi-docs.readthedocs.io/en/latest/tutorials/Django_and_nginx.html&lt;/a&gt;
&lt;a href=&#34;http://www.jianshu.com/p/7494560da3e6&#34;&gt;http://www.jianshu.com/p/7494560da3e6&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is our stack:&lt;/p&gt;

&lt;p&gt;the web client &amp;lt;-&amp;gt; the web server &amp;lt;-&amp;gt; the socket &amp;lt;-&amp;gt; uWSGI &amp;lt;-&amp;gt; Python&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Python Coroutine</title>
      <link>http://danigong.github.io/post/python_coroutine/</link>
      <pubDate>Mon, 15 Aug 2016 22:14:50 +0800</pubDate>
      
      <guid>http://danigong.github.io/post/python_coroutine/</guid>
      <description>&lt;p&gt;åç¨‹&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åç¨‹ï¼Œåˆç§°å¾®çº¿ç¨‹ï¼Œçº¤ç¨‹ã€‚è‹±æ–‡åCoroutineã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åç¨‹çš„æ¦‚å¿µå¾ˆæ—©å°±æå‡ºæ¥äº†ï¼Œä½†ç›´åˆ°æœ€è¿‘å‡ å¹´æ‰åœ¨æŸäº›è¯­è¨€ï¼ˆå¦‚Luaï¼‰ä¸­å¾—åˆ°å¹¿æ³›åº”ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å­ç¨‹åºï¼Œæˆ–è€…ç§°ä¸ºå‡½æ•°ï¼Œåœ¨æ‰€æœ‰è¯­è¨€ä¸­éƒ½æ˜¯å±‚çº§è°ƒç”¨ï¼Œæ¯”å¦‚Aè°ƒç”¨Bï¼ŒBåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åˆè°ƒç”¨äº†Cï¼ŒCæ‰§è¡Œå®Œæ¯•è¿”å›ï¼ŒBæ‰§è¡Œå®Œæ¯•è¿”å›ï¼Œæœ€åæ˜¯Aæ‰§è¡Œå®Œæ¯•ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å­ç¨‹åºè°ƒç”¨æ˜¯é€šè¿‡æ ˆå®ç°çš„ï¼Œä¸€ä¸ªçº¿ç¨‹å°±æ˜¯æ‰§è¡Œä¸€ä¸ªå­ç¨‹åºã€‚&lt;/p&gt;

&lt;p&gt;å­ç¨‹åºè°ƒç”¨æ€»æ˜¯ä¸€ä¸ªå…¥å£ï¼Œä¸€æ¬¡è¿”å›ï¼Œè°ƒç”¨é¡ºåºæ˜¯æ˜ç¡®çš„ã€‚è€Œåç¨‹çš„è°ƒç”¨å’Œå­ç¨‹åºä¸åŒã€‚&lt;/p&gt;

&lt;p&gt;åç¨‹çœ‹ä¸Šå»ä¹Ÿæ˜¯å­ç¨‹åºï¼Œä½†æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œåœ¨å­ç¨‹åºå†…éƒ¨å¯ä¸­æ–­ï¼Œç„¶åè½¬è€Œæ‰§è¡Œåˆ«çš„å­ç¨‹åºï¼Œåœ¨é€‚å½“çš„æ—¶å€™å†è¿”å›æ¥æ¥ç€æ‰§è¡Œã€‚&lt;/p&gt;

&lt;p&gt;æ³¨æ„ï¼Œåœ¨ä¸€ä¸ªå­ç¨‹åºä¸­ä¸­æ–­ï¼Œå»æ‰§è¡Œå…¶ä»–å­ç¨‹åºï¼Œä¸æ˜¯å‡½æ•°è°ƒç”¨ï¼Œæœ‰ç‚¹ç±»ä¼¼CPUçš„ä¸­æ–­ã€‚æ¯”å¦‚å­ç¨‹åºAã€Bï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;def A():
    print &#39;1&#39;
    print &#39;2&#39;
    print &#39;3&#39;

def B():
    print &#39;x&#39;
    print &#39;y&#39;
    print &#39;z&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å‡è®¾ç”±åç¨‹æ‰§è¡Œï¼Œåœ¨æ‰§è¡ŒAçš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥éšæ—¶ä¸­æ–­ï¼Œå»æ‰§è¡ŒBï¼ŒBä¹Ÿå¯èƒ½åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸­æ–­å†å»æ‰§è¡ŒAï¼Œç»“æœå¯èƒ½æ˜¯ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;1
2
x
y
3
z
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½†æ˜¯åœ¨Aä¸­æ˜¯æ²¡æœ‰è°ƒç”¨Bçš„ï¼Œæ‰€ä»¥åç¨‹çš„è°ƒç”¨æ¯”å‡½æ•°è°ƒç”¨ç†è§£èµ·æ¥è¦éš¾ä¸€äº›ã€‚&lt;/p&gt;

&lt;p&gt;çœ‹èµ·æ¥Aã€Bçš„æ‰§è¡Œæœ‰ç‚¹åƒå¤šçº¿ç¨‹ï¼Œä½†åç¨‹çš„ç‰¹ç‚¹åœ¨äºæ˜¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£å’Œå¤šçº¿ç¨‹æ¯”ï¼Œåç¨‹æœ‰ä½•ä¼˜åŠ¿ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æœ€å¤§çš„ä¼˜åŠ¿å°±æ˜¯åç¨‹æé«˜çš„æ‰§è¡Œæ•ˆç‡ã€‚å› ä¸ºå­ç¨‹åºåˆ‡æ¢ä¸æ˜¯çº¿ç¨‹åˆ‡æ¢ï¼Œè€Œæ˜¯ç”±ç¨‹åºè‡ªèº«æ§åˆ¶ï¼Œå› æ­¤ï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œå’Œå¤šçº¿ç¨‹æ¯”ï¼Œçº¿ç¨‹æ•°é‡è¶Šå¤šï¼Œåç¨‹çš„æ€§èƒ½ä¼˜åŠ¿å°±è¶Šæ˜æ˜¾ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬äºŒå¤§ä¼˜åŠ¿å°±æ˜¯ä¸éœ€è¦å¤šçº¿ç¨‹çš„é”æœºåˆ¶ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿä¸å­˜åœ¨åŒæ—¶å†™å˜é‡å†²çªï¼Œåœ¨åç¨‹ä¸­æ§åˆ¶å…±äº«èµ„æºä¸åŠ é”ï¼Œåªéœ€è¦åˆ¤æ–­çŠ¶æ€å°±å¥½äº†ï¼Œæ‰€ä»¥æ‰§è¡Œæ•ˆç‡æ¯”å¤šçº¿ç¨‹é«˜å¾ˆå¤šã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºåç¨‹æ˜¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£æ€ä¹ˆåˆ©ç”¨å¤šæ ¸CPUå‘¢ï¼Ÿæœ€ç®€å•çš„æ–¹æ³•æ˜¯å¤šè¿›ç¨‹+åç¨‹ï¼Œæ—¢å……åˆ†åˆ©ç”¨å¤šæ ¸ï¼Œåˆå……åˆ†å‘æŒ¥åç¨‹çš„é«˜æ•ˆç‡ï¼Œå¯è·å¾—æé«˜çš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;Pythonå¯¹åç¨‹çš„æ”¯æŒè¿˜éå¸¸æœ‰é™ï¼Œç”¨åœ¨generatorä¸­çš„yieldå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šå®ç°åç¨‹ã€‚è™½ç„¶æ”¯æŒä¸å®Œå…¨ï¼Œä½†å·²ç»å¯ä»¥å‘æŒ¥ç›¸å½“å¤§çš„å¨åŠ›äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ¥çœ‹ä¾‹å­ï¼š&lt;/p&gt;

&lt;p&gt;ä¼ ç»Ÿçš„ç”Ÿäº§è€…-æ¶ˆè´¹è€…æ¨¡å‹æ˜¯ä¸€ä¸ªçº¿ç¨‹å†™æ¶ˆæ¯ï¼Œä¸€ä¸ªçº¿ç¨‹å–æ¶ˆæ¯ï¼Œé€šè¿‡é”æœºåˆ¶æ§åˆ¶é˜Ÿåˆ—å’Œç­‰å¾…ï¼Œä½†ä¸€ä¸å°å¿ƒå°±å¯èƒ½æ­»é”ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæ”¹ç”¨åç¨‹ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯åï¼Œç›´æ¥é€šè¿‡yieldè·³è½¬åˆ°æ¶ˆè´¹è€…å¼€å§‹æ‰§è¡Œï¼Œå¾…æ¶ˆè´¹è€…æ‰§è¡Œå®Œæ¯•åï¼Œåˆ‡æ¢å›ç”Ÿäº§è€…ç»§ç»­ç”Ÿäº§ï¼Œæ•ˆç‡æé«˜ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;import time

def consumer():
    r = &#39;&#39;
    while True:
        n = yield r
        if not n:
            return
        print(&#39;[CONSUMER] Consuming %s...&#39; % n)
        time.sleep(1)
        r = &#39;200 OK&#39;

def produce(c):
    c.next()
    n = 0
    while n &amp;lt; 5:
        n = n + 1
        print(&#39;[PRODUCER] Producing %s...&#39; % n)
        r = c.send(n)
        print(&#39;[PRODUCER] Consumer return: %s&#39; % r)
    c.close()

if __name__==&#39;__main__&#39;:
    c = consumer()
    produce(c)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰§è¡Œç»“æœï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[PRODUCER] Producing 1...
[CONSUMER] Consuming 1...
[PRODUCER] Consumer return: 200 OK
[PRODUCER] Producing 2...
[CONSUMER] Consuming 2...
[PRODUCER] Consumer return: 200 OK
[PRODUCER] Producing 3...
[CONSUMER] Consuming 3...
[PRODUCER] Consumer return: 200 OK
[PRODUCER] Producing 4...
[CONSUMER] Consuming 4...
[PRODUCER] Consumer return: 200 OK
[PRODUCER] Producing 5...
[CONSUMER] Consuming 5...
[PRODUCER] Consumer return: 200 OK
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ³¨æ„åˆ°consumerå‡½æ•°æ˜¯ä¸€ä¸ªgeneratorï¼ˆç”Ÿæˆå™¨ï¼‰ï¼ŒæŠŠä¸€ä¸ªconsumerä¼ å…¥produceåï¼š&lt;/p&gt;

&lt;p&gt;é¦–å…ˆè°ƒç”¨c.next()å¯åŠ¨ç”Ÿæˆå™¨ï¼›&lt;/p&gt;

&lt;p&gt;ç„¶åï¼Œä¸€æ—¦ç”Ÿäº§äº†ä¸œè¥¿ï¼Œé€šè¿‡c.send(n)åˆ‡æ¢åˆ°consumeræ‰§è¡Œï¼›&lt;/p&gt;

&lt;p&gt;consumeré€šè¿‡yieldæ‹¿åˆ°æ¶ˆæ¯ï¼Œå¤„ç†ï¼Œåˆé€šè¿‡yieldæŠŠç»“æœä¼ å›ï¼›&lt;/p&gt;

&lt;p&gt;produceæ‹¿åˆ°consumerå¤„ç†çš„ç»“æœï¼Œç»§ç»­ç”Ÿäº§ä¸‹ä¸€æ¡æ¶ˆæ¯ï¼›&lt;/p&gt;

&lt;p&gt;produceå†³å®šä¸ç”Ÿäº§äº†ï¼Œé€šè¿‡c.close()å…³é—­consumerï¼Œæ•´ä¸ªè¿‡ç¨‹ç»“æŸã€‚&lt;/p&gt;

&lt;p&gt;æ•´ä¸ªæµç¨‹æ— é”ï¼Œç”±ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œproduceå’Œconsumeråä½œå®Œæˆä»»åŠ¡ï¼Œæ‰€ä»¥ç§°ä¸ºâ€œåç¨‹â€ï¼Œè€Œéçº¿ç¨‹çš„æŠ¢å å¼å¤šä»»åŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åå¥—ç”¨Donald Knuthçš„ä¸€å¥è¯æ€»ç»“åç¨‹çš„ç‰¹ç‚¹ï¼š&lt;/p&gt;

&lt;p&gt;â€œå­ç¨‹åºå°±æ˜¯åç¨‹çš„ä¸€ç§ç‰¹ä¾‹ã€‚â€&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>